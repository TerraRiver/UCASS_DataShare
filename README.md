# UCASS DataShare æ ¡å†…å­¦æœ¯èµ„æºå…±äº«å¹³å°

<div align="center">

**è®¡ç®—ç¤¾ä¼šç§‘å­¦ä¸å›½å®¶æ²»ç†å®éªŒå®¤ (UCASS) å­¦æœ¯èµ„æºå…±äº«äº¤æµå¹³å°**

[![TypeScript](https://img.shields.io/badge/TypeScript-5.3.3-3178C6?logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Next.js](https://img.shields.io/badge/Next.js-14.0-000000?logo=next.js&logoColor=white)](https://nextjs.org/)
[![Express](https://img.shields.io/badge/Express-4.18-000000?logo=express&logoColor=white)](https://expressjs.com/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15+-4169E1?logo=postgresql&logoColor=white)](https://www.postgresql.org/)
[![Prisma](https://img.shields.io/badge/Prisma-5.7-2D3748?logo=prisma&logoColor=white)](https://www.prisma.io/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

[åŠŸèƒ½ç‰¹æ€§](#-æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§) â€¢
[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢
[æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„) â€¢
[éƒ¨ç½²æŒ‡å—](#-ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²) â€¢
[å¼€å‘æ–‡æ¡£](#-å¼€å‘æŒ‡å—)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

UCASS DataShare æ˜¯ä¸€ä¸ªé¢å‘è®¡ç®—ç¤¾ä¼šç§‘å­¦é¢†åŸŸçš„ç»¼åˆæ€§å­¦æœ¯èµ„æºå…±äº«å¹³å°ï¼Œä¸“ä¸ºç§‘ç ”äººå‘˜å’Œå­¦ç”Ÿè®¾è®¡ï¼Œæ—¨åœ¨ä¿ƒè¿›å­¦æœ¯èµ„æºçš„å¼€æ”¾å…±äº«å’Œé«˜æ•ˆåˆ©ç”¨ã€‚å¹³å°æ•´åˆäº†**æ•°æ®é›†ç®¡ç†**ã€**æ¡ˆä¾‹é›†åˆ†äº«**ã€**æ–¹æ³•æ¨¡å—åº“**å’Œ**çŸ¥è¯†å›¾è°±å¯è§†åŒ–**ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œæ„å»ºäº†å®Œæ•´çš„å­¦æœ¯èµ„æºç”Ÿæ€ç³»ç»Ÿã€‚

### ğŸ¯ è®¾è®¡ç†å¿µ

- **å¼€æ”¾å…±äº«** - ä¿ƒè¿›å­¦æœ¯èµ„æºçš„è‡ªç”±æµé€šå’ŒçŸ¥è¯†ä¼ æ’­
- **æ™ºèƒ½æ£€ç´¢** - åŸºäºRAGæŠ€æœ¯çš„è¯­ä¹‰æœç´¢ï¼Œç²¾å‡†å®šä½æ‰€éœ€èµ„æº
- **çŸ¥è¯†å…³è”** - é€šè¿‡çŸ¥è¯†å›¾è°±å±•ç°èµ„æºé—´çš„å†…åœ¨è”ç³»
- **è§„èŒƒç®¡ç†** - å®Œå–„çš„å®¡æ ¸æœºåˆ¶ä¿éšœèµ„æºè´¨é‡
- **æ˜“ç”¨æ€§ä¼˜å…ˆ** - ç›´è§‚çš„ç•Œé¢è®¾è®¡å’Œæµç•…çš„ç”¨æˆ·ä½“éªŒ

### ğŸ’¡ åº”ç”¨åœºæ™¯

- ğŸ“Š **ç§‘ç ”æ•°æ®ç®¡ç†** - é›†ä¸­ç®¡ç†å’Œåˆ†äº«å„ç±»å­¦ç§‘æ•°æ®é›†
- ğŸ“š **æ•™å­¦æ¡ˆä¾‹åº“** - æ„å»ºæ•™å­¦å®è·µæ¡ˆä¾‹èµ„æºåº“
- ğŸ”¬ **æ–¹æ³•å­¦ä¹ ** - ç³»ç»ŸåŒ–çš„è®¡ç®—ç¤¾ä¼šç§‘å­¦æ–¹æ³•å­¦ä¹ è·¯å¾„
- ğŸ¤ **å›¢é˜Ÿåä½œ** - ä¿ƒè¿›å®éªŒå®¤å†…éƒ¨èµ„æºå…±äº«å’Œåä½œ
- ğŸ“ˆ **èµ„æºç»Ÿè®¡** - è¿½è¸ªèµ„æºä½¿ç”¨æƒ…å†µï¼Œäº†è§£ç ”ç©¶çƒ­ç‚¹

---

## â­ æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

### 1. æ•°æ®é›†ç®¡ç†ç³»ç»Ÿ

å…¨é¢çš„æ•°æ®é›†ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œæ”¯æŒå¤šå­¦ç§‘ã€å¤šæ ¼å¼æ•°æ®èµ„æºã€‚

#### æ ¸å¿ƒèƒ½åŠ›
- **å¤šæ ¼å¼æ”¯æŒ** - Excel (`.xlsx`, `.xls`)ã€CSVã€JSONã€PDF ç­‰å¸¸è§æ•°æ®æ ¼å¼
- **åœ¨çº¿é¢„è§ˆ** - æ”¯æŒè¡¨æ ¼æ•°æ®åœ¨çº¿é¢„è§ˆï¼Œæ— éœ€ä¸‹è½½å³å¯æŸ¥çœ‹æ•°æ®ç»“æ„
- **å¤šç»´åˆ†ç±»** - 9å¤§å­¦ç§‘åˆ†ç±»ä½“ç³»ï¼ˆæ”¿æ²»å­¦ã€ç¤¾ä¼šå­¦ã€ç»æµå­¦ã€æ³•å­¦ã€ç®¡ç†å­¦ã€ä¼ æ’­å­¦ã€åœ°ç†å­¦ã€å†å²å­¦ã€å¿ƒç†å­¦ï¼‰
- **å…ƒæ•°æ®ç®¡ç†** - å®Œæ•´çš„æ•°æ®æºã€æ—¶é—´ã€å¼•ç”¨ä¿¡æ¯è®°å½•
- **æ™ºèƒ½æœç´¢** - æ”¯æŒåç§°ã€åˆ†ç±»ã€æ¥æºç­‰å¤šç»´åº¦æ£€ç´¢
- **è®¿é—®æ§åˆ¶** - å®¡æ ¸æœºåˆ¶ç¡®ä¿æ•°æ®è´¨é‡å’Œåˆè§„æ€§
- **ç»Ÿè®¡åˆ†æ** - å®æ—¶è¿½è¸ªæ•°æ®é›†ä¸‹è½½é‡å’Œä½¿ç”¨æƒ…å†µ

#### æ•°æ®é›†å±æ€§
```typescript
{
  name: string              // æ•°æ®é›†åç§°
  catalog: string           // å­¦ç§‘åˆ†ç±»
  summary: string           // æ‘˜è¦è¯´æ˜
  source: string            // æ•°æ®æ¥æº
  sourceUrl: string         // æ¥æºé“¾æ¥
  sourceDate: Date          // æ•°æ®æ—¶é—´
  recommendedCitations: []  // æ¨èå¼•ç”¨
  enablePreview: boolean    // å¯ç”¨é¢„è§ˆ
  isReviewed: boolean       // å®¡æ ¸çŠ¶æ€
  isVisible: boolean        // å¯è§æ€§
  isFeatured: boolean       // ç²¾é€‰æ ‡è®°
}
```

### 2. æ¡ˆä¾‹é›†åˆ†äº«å¹³å°

æ”¯æŒå¤šåª’ä½“æ¡ˆä¾‹èµ„æºçš„ç®¡ç†å’Œåˆ†äº«ï¼Œä¿ƒè¿›å®è·µç»éªŒäº¤æµã€‚

#### æ ¸å¿ƒèƒ½åŠ›
- **å¤šåª’ä½“æ”¯æŒ** - æ”¯æŒæ–‡æœ¬ã€å›¾ç‰‡ã€PDFæ–‡æ¡£å’Œè§†é¢‘ç­‰å¤šç§æ ¼å¼
- **è§†é¢‘æ’­æ”¾** - å†…ç½®è§†é¢‘æ’­æ”¾å™¨ï¼Œæ”¯æŒåœ¨çº¿è§‚çœ‹æ¡ˆä¾‹æ¼”ç¤º
- **å­¦ç§‘åˆ†ç±»** - æŒ‰å­¦ç§‘é¢†åŸŸç»„ç»‡æ¡ˆä¾‹èµ„æº
- **å…³è”æ•°æ®é›†** - æ¡ˆä¾‹ä¸ç›¸å…³æ•°æ®é›†çš„åŒå‘é“¾æ¥
- **å®è·µé“¾æ¥** - æ”¯æŒå¤–éƒ¨å®æ“å¹³å°é“¾æ¥ï¼ˆå¦‚ Kaggleã€Colab ç­‰ï¼‰
- **å‡ºç‰ˆä¿¡æ¯** - å®Œæ•´çš„å‘è¡¨ä¿¡æ¯å’Œå‡ºç‰ˆå¹´ä»½è®°å½•
- **ç²¾é€‰æœºåˆ¶** - çªå‡ºä¼˜è´¨æ¡ˆä¾‹ï¼Œæä¾›å­¦ä¹ å‚è€ƒ

#### æ¡ˆä¾‹å±æ€§
```typescript
{
  title: string            // æ¡ˆä¾‹æ ‡é¢˜
  author: string           // ä½œè€…
  discipline: string       // å­¦ç§‘é¢†åŸŸ
  summary: string          // æ¡ˆä¾‹ç®€è¿°
  publication: string      // å‘è¡¨æœŸåˆŠ/ä¼šè®®
  publicationYear: number  // å‘è¡¨å¹´ä»½
  publicationUrl: string   // å‘è¡¨é“¾æ¥
  practiceUrl: string      // å®æ“é“¾æ¥
  hasVideo: boolean        // åŒ…å«è§†é¢‘
  relatedDatasets: []      // å…³è”æ•°æ®é›†
}
```

### 3. æ–¹æ³•æ¨¡å—åº“

ç³»ç»ŸåŒ–çš„è®¡ç®—ç¤¾ä¼šç§‘å­¦æ–¹æ³•å­¦ä¹ å’Œåº”ç”¨èµ„æºåº“ã€‚

#### 10å¤§æ–¹æ³•åˆ†ç±»

| åˆ†ç±»ä»£ç  | ä¸­æ–‡åç§° | è‹±æ–‡åç§° | è¯´æ˜ |
|---------|---------|---------|------|
| **DA** | æ•°æ®è·å– | Data Acquisition | ç½‘é¡µçˆ¬è™«ã€APIé‡‡é›†ç­‰æ•°æ®æ”¶é›†æ–¹æ³• |
| **DP** | æ•°æ®é¢„å¤„ç† | Data Preprocessing | æ•°æ®æ¸…æ´—ã€è½¬æ¢ã€æ ‡å‡†åŒ–ç­‰é¢„å¤„ç†æŠ€æœ¯ |
| **QS** | å®šé‡ç ”ç©¶ | Quantitative Statistics | ç»Ÿè®¡åˆ†æã€å›å½’æ¨¡å‹ã€å› æœæ¨æ–­ç­‰ |
| **NLP** | è‡ªç„¶è¯­è¨€å¤„ç† | Natural Language Processing | æ–‡æœ¬åˆ†æã€æƒ…æ„Ÿåˆ†æã€ä¸»é¢˜å»ºæ¨¡ç­‰ |
| **SNA** | ç¤¾ä¼šç½‘ç»œåˆ†æ | Social Network Analysis | ç½‘ç»œç»“æ„åˆ†æã€ç¤¾ç¾¤å‘ç°ç­‰ |
| **GIS** | åœ°ç†ä¿¡æ¯ç³»ç»Ÿ | Geographic Information System | ç©ºé—´æ•°æ®åˆ†æã€åœ°ç†å¯è§†åŒ–ç­‰ |
| **ML** | æœºå™¨å­¦ä¹  | Machine Learning | ç›‘ç£å­¦ä¹ ã€æ— ç›‘ç£å­¦ä¹ ã€æ·±åº¦å­¦ä¹ ç­‰ |
| **SM** | ä»¿çœŸæ¨¡æ‹Ÿ | Simulation Modeling | Agent-basedæ¨¡å‹ã€ç³»ç»ŸåŠ¨åŠ›å­¦ç­‰ |
| **DV** | æ•°æ®å¯è§†åŒ– | Data Visualization | å›¾è¡¨è®¾è®¡ã€äº¤äº’å¯è§†åŒ–ç­‰ |
| **CI** | å› æœæ¨æ–­ | Causal Inference | å·¥å…·å˜é‡ã€DIDã€RDDç­‰å› æœè¯†åˆ«æ–¹æ³• |

#### åŠŸèƒ½ç‰¹æ€§
- **å±‚çº§ç»„ç»‡** - æŒ‰åˆ†ç±»-æ¨¡å—ä¸¤çº§ç»“æ„ç»„ç»‡æ–¹æ³•èµ„æº
- **ä»£ç ç¼–å·** - ç»Ÿä¸€çš„ç¼–å·ä½“ç³»ï¼ˆå¦‚ DA01ã€NLP15ï¼‰
- **å®æ“é“¾æ¥** - æ”¯æŒé“¾æ¥åˆ°å¤–éƒ¨å®è·µç¯å¢ƒ
- **æ–‡ä»¶ç®¡ç†** - æ”¯æŒä¸Šä¼ æ–¹æ³•æ–‡æ¡£ã€ä»£ç ç¤ºä¾‹ã€æ•°æ®æ ·ä¾‹ç­‰
- **ä½¿ç”¨ç»Ÿè®¡** - è¿½è¸ªé¢„è§ˆé‡å’Œä¸‹è½½é‡
- **åŒè¯­æ”¯æŒ** - ä¸­è‹±æ–‡åŒè¯­åç§°

#### æ–¹æ³•æ¨¡å—ç»“æ„
```typescript
{
  code: string            // æ¨¡å—ç¼–å· (å¦‚ DA01, NLP15)
  name: string            // ä¸­æ–‡åç§°
  englishName: string     // è‹±æ–‡åç§°
  summary: string         // ç®€è¦è¯´æ˜
  category: string        // æ‰€å±åˆ†ç±»
  practiceUrl: string     // å®æ“é“¾æ¥
  enablePractice: boolean // å¯ç”¨å®æ“
  files: []               // ç›¸å…³æ–‡ä»¶
}
```

### 4. çŸ¥è¯†å›¾è°±å¯è§†åŒ–

äº¤äº’å¼åŠ›å¯¼å‘å›¾å±•ç°å­¦æœ¯èµ„æºé—´çš„å…³è”å…³ç³»ã€‚

#### å¯è§†åŒ–ç‰¹æ€§
- **åŠ›å¯¼å‘å¸ƒå±€** - åŸºäº D3.js çš„åŠ›å¯¼å‘å›¾ç®—æ³•ï¼Œè‡ªåŠ¨ä¼˜åŒ–èŠ‚ç‚¹å¸ƒå±€
- **èŠ‚ç‚¹åˆ†ç±»**
  - ğŸ”µ æ•°æ®é›†èŠ‚ç‚¹ - è“è‰²åœ†å½¢
  - ğŸŸ  æ¡ˆä¾‹é›†èŠ‚ç‚¹ - æ©™è‰²åœ†å½¢
  - èŠ‚ç‚¹å¤§å°åæ˜ èµ„æºé‡è¦ç¨‹åº¦
- **å…³ç³»å±•ç¤º**
  - å®çº¿è¿æ¥è¡¨ç¤ºæ¡ˆä¾‹ä¸æ•°æ®é›†çš„å…³è”å…³ç³»
  - æ‚¬åœæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
- **äº¤äº’åŠŸèƒ½**
  - ç‚¹å‡»èŠ‚ç‚¹æŸ¥çœ‹è¯¦æƒ…
  - æ‹–æ‹½è°ƒæ•´èŠ‚ç‚¹ä½ç½®
  - ç¼©æ”¾å’Œå¹³ç§»ç”»å¸ƒ
  - æœç´¢å®šä½ç‰¹å®šèµ„æº

#### åº”ç”¨ä»·å€¼
- å‘ç°èµ„æºé—´çš„æ½œåœ¨å…³è”
- è¾…åŠ©ç§‘ç ”é€‰é¢˜å’Œæ–‡çŒ®è°ƒç ”
- å¯è§†åŒ–å±•ç¤ºç ”ç©¶è„‰ç»œ
- ä¿ƒè¿›è·¨å­¦ç§‘èµ„æºæ•´åˆ

### 5. RAG æ™ºèƒ½æœç´¢

åŸºäºæ£€ç´¢å¢å¼ºç”Ÿæˆ(RAG)æŠ€æœ¯çš„è¯­ä¹‰æœç´¢ç³»ç»Ÿã€‚

#### æŠ€æœ¯å®ç°
- **å‘é‡åŒ–å­˜å‚¨** - å°†èµ„æºå†…å®¹è½¬æ¢ä¸ºå‘é‡è¡¨ç¤º
- **è¯­ä¹‰æ£€ç´¢** - åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦è€Œéå…³é”®è¯åŒ¹é…
- **OpenAIé›†æˆ** - åˆ©ç”¨ OpenAI Embeddings API
- **å®æ—¶ç´¢å¼•** - èµ„æºæ›´æ–°æ—¶è‡ªåŠ¨é‡æ–°å‘é‡åŒ–

#### æœç´¢ç‰¹æ€§
- è‡ªç„¶è¯­è¨€æŸ¥è¯¢
- è¯­ä¹‰ç›¸å…³æ€§æ’åº
- è·¨èµ„æºç±»å‹æœç´¢
- æ™ºèƒ½ç»“æœæ¨è

### 6. å®¡æ ¸ä¸æƒé™ç®¡ç†

å®Œå–„çš„å†…å®¹å®¡æ ¸æµç¨‹å’Œæƒé™æ§åˆ¶æœºåˆ¶ã€‚

#### å®¡æ ¸æµç¨‹
1. **èµ„æºæäº¤** - ç”¨æˆ·ä¸Šä¼ æ•°æ®é›†/æ¡ˆä¾‹é›†
2. **å¾…å®¡æ ¸** - èµ„æºè¿›å…¥å®¡æ ¸é˜Ÿåˆ—ï¼Œä¸å¯è§
3. **ç®¡ç†å‘˜å®¡æ ¸** - å®¡æŸ¥èµ„æºè´¨é‡å’Œåˆè§„æ€§
4. **å®¡æ ¸é€šè¿‡** - èµ„æºå¯¹å…¨ä½“ç”¨æˆ·å¯è§
5. **ç²¾é€‰æ ‡è®°** - ä¼˜è´¨èµ„æºå¯æ ‡è®°ä¸ºç²¾é€‰

#### æƒé™åˆ†çº§
- **æ™®é€šç”¨æˆ·** - æµè§ˆã€ä¸‹è½½ã€ä¸Šä¼ èµ„æº
- **ç®¡ç†å‘˜** - å®¡æ ¸ã€ç¼–è¾‘ã€åˆ é™¤ã€ç³»ç»Ÿé…ç½®

### 7. ç»Ÿè®¡ä¸åˆ†æ

å…¨æ–¹ä½çš„å¹³å°ä½¿ç”¨æ•°æ®ç»Ÿè®¡å’Œåˆ†æã€‚

#### ç»Ÿè®¡ç»´åº¦
- **èµ„æºç»Ÿè®¡** - å„ç±»èµ„æºæ•°é‡ã€åˆ†å¸ƒæƒ…å†µ
- **ä¸‹è½½ç»Ÿè®¡** - èµ„æºä¸‹è½½æ¬¡æ•°æ’è¡Œ
- **å­¦ç§‘åˆ†å¸ƒ** - èµ„æºæŒ‰å­¦ç§‘åˆ†ç±»ç»Ÿè®¡
- **æ—¶é—´è¶‹åŠ¿** - èµ„æºä¸Šä¼ å’Œä½¿ç”¨çš„æ—¶é—´è¶‹åŠ¿
- **çƒ­é—¨èµ„æº** - æœ€å—æ¬¢è¿çš„æ•°æ®é›†å’Œæ¡ˆä¾‹

#### å¯è§†åŒ–å±•ç¤º
- ğŸ“Š æŸ±çŠ¶å›¾ - å­¦ç§‘åˆ†å¸ƒ
- ğŸ“ˆ æŠ˜çº¿å›¾ - æ—¶é—´è¶‹åŠ¿
- ğŸ¥§ é¥¼å›¾ - åˆ†ç±»å æ¯”
- ğŸ“‹ æ’è¡Œæ¦œ - çƒ­é—¨èµ„æº

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç”¨æˆ·å±‚                               â”‚
â”‚  Web Browser (Chrome, Firefox, Safari, Edge)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å‰ç«¯åº”ç”¨å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Next.js 14 (React 18 + App Router)               â”‚     â”‚
â”‚  â”‚  â”œâ”€ å‰å°é¡µé¢ (æ•°æ®å‘ç°/æ¡ˆä¾‹é›†/çŸ¥è¯†å›¾è°±/AIæœç´¢)      â”‚     â”‚
â”‚  â”‚  â””â”€ åå°ç®¡ç† (èµ„æºå®¡æ ¸/æ–¹æ³•ç®¡ç†/ç³»ç»Ÿé…ç½®)          â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  UIç»„ä»¶åº“: NextUI + Tailwind CSS                   â”‚     â”‚
â”‚  â”‚  å¯è§†åŒ–: Recharts + react-force-graph-2d          â”‚     â”‚
â”‚  â”‚  çŠ¶æ€ç®¡ç†: SWR (æ•°æ®è·å–å’Œç¼“å­˜)                     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ RESTful API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      åç«¯åº”ç”¨å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Express + TypeScript                              â”‚     â”‚
â”‚  â”‚  â”œâ”€ è®¤è¯ä¸­é—´ä»¶ (JWT)                               â”‚     â”‚
â”‚  â”‚  â”œâ”€ å®‰å…¨ä¸­é—´ä»¶ (Helmet, CORS, Rate Limit)         â”‚     â”‚
â”‚  â”‚  â”œâ”€ æ—¥å¿—ä¸­é—´ä»¶                                      â”‚     â”‚
â”‚  â”‚  â””â”€ é”™è¯¯å¤„ç†ä¸­é—´ä»¶                                  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ä¸šåŠ¡é€»è¾‘å±‚                                          â”‚     â”‚
â”‚  â”‚  â”œâ”€ æ•°æ®é›†æœåŠ¡      â”œâ”€ æ¡ˆä¾‹é›†æœåŠ¡                  â”‚     â”‚
â”‚  â”‚  â”œâ”€ æ–¹æ³•æ¨¡å—æœåŠ¡    â”œâ”€ RAGæœç´¢æœåŠ¡                 â”‚     â”‚
â”‚  â”‚  â”œâ”€ å…³ç³»å›¾è°±æœåŠ¡    â”œâ”€ ç»Ÿè®¡åˆ†ææœåŠ¡                â”‚     â”‚
â”‚  â”‚  â””â”€ ç³»ç»Ÿé…ç½®æœåŠ¡                                    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ Prisma ORM
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ•°æ®æŒä¹…å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  PostgreSQL 15+     â”‚  â”‚  æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿ             â”‚      â”‚
â”‚  â”‚  â”œâ”€ ç”¨æˆ·è¡¨          â”‚  â”‚  â”œâ”€ æ•°æ®é›†æ–‡ä»¶            â”‚      â”‚
â”‚  â”‚  â”œâ”€ æ•°æ®é›†è¡¨        â”‚  â”‚  â”œâ”€ æ¡ˆä¾‹é›†æ–‡ä»¶            â”‚      â”‚
â”‚  â”‚  â”œâ”€ æ¡ˆä¾‹é›†è¡¨        â”‚  â”‚  â”œâ”€ æ–¹æ³•æ¨¡å—æ–‡ä»¶          â”‚      â”‚
â”‚  â”‚  â”œâ”€ æ–¹æ³•æ¨¡å—è¡¨      â”‚  â”‚  â””â”€ è§†é¢‘æ–‡ä»¶             â”‚      â”‚
â”‚  â”‚  â”œâ”€ å‘é‡è¡¨(RAG)     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”‚  â””â”€ å…³ç³»æ˜ å°„è¡¨      â”‚                                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¤–éƒ¨æœåŠ¡å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  OpenAI API      â”‚    â”‚  å…¶ä»–æœåŠ¡(å¯æ‰©å±•) â”‚               â”‚
â”‚  â”‚  - Embeddings    â”‚    â”‚  - OSSå­˜å‚¨        â”‚               â”‚
â”‚  â”‚  - Completions   â”‚    â”‚  - CDNåŠ é€Ÿ        â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆè¯¦è§£

#### å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **Next.js** | 14.0 | React å…¨æ ˆæ¡†æ¶ï¼Œæ”¯æŒ SSR/SSG |
| **React** | 18.2 | ç”¨æˆ·ç•Œé¢æ„å»º |
| **TypeScript** | 5.3.3 | ç±»å‹å®‰å…¨çš„ JavaScript è¶…é›† |
| **NextUI** | 2.6.11 | ç°ä»£åŒ– UI ç»„ä»¶åº“ |
| **Tailwind CSS** | 3.3.6 | å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶ |
| **SWR** | 2.2.4 | æ•°æ®è·å–å’Œç¼“å­˜åº“ |
| **React Hook Form** | 7.48.2 | é«˜æ€§èƒ½è¡¨å•ç®¡ç† |
| **Zod** | 3.22.4 | TypeScript-first æ¨¡å¼éªŒè¯ |
| **Recharts** | 3.0.2 | æ•°æ®å¯è§†åŒ–å›¾è¡¨åº“ |
| **react-force-graph-2d** | 1.29.0 | åŠ›å¯¼å‘å›¾å¯è§†åŒ– |
| **react-markdown** | 10.1.0 | Markdown æ¸²æŸ“ |
| **Framer Motion** | 12.23.0 | åŠ¨ç”»åº“ |
| **Lucide React** | 0.294.0 | å›¾æ ‡åº“ |

#### åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **Express** | 4.18.2 | Web åº”ç”¨æ¡†æ¶ |
| **TypeScript** | 5.3.3 | ç±»å‹å®‰å…¨ |
| **Prisma** | 5.7.0 | ç°ä»£åŒ– ORM |
| **PostgreSQL** | 15+ | å…³ç³»å‹æ•°æ®åº“ |
| **JWT** | 9.0.2 | èº«ä»½è®¤è¯ |
| **bcryptjs** | 2.4.3 | å¯†ç åŠ å¯† |
| **Helmet** | 7.1.0 | å®‰å…¨å¤´éƒ¨è®¾ç½® |
| **CORS** | 2.8.5 | è·¨åŸŸèµ„æºå…±äº« |
| **express-rate-limit** | 7.1.5 | API é™æµ |
| **express-validator** | 7.0.1 | è¯·æ±‚éªŒè¯ |
| **Multer** | 1.4.5 | æ–‡ä»¶ä¸Šä¼ å¤„ç† |
| **Archiver** | 7.0.1 | æ–‡ä»¶å‹ç¼© |
| **xlsx** | 0.18.5 | Excel æ–‡ä»¶å¤„ç† |
| **pdf-parse** | 2.2.0 | PDF è§£æ |
| **OpenAI** | 6.8.1 | AI èƒ½åŠ›é›†æˆ |
| **Zod** | 3.22.4 | æ•°æ®éªŒè¯ |

### é¡¹ç›®ç»“æ„

```
UCASS_DataShare/
â”œâ”€â”€ apps/                           # åº”ç”¨ç›®å½•ï¼ˆMonorepoï¼‰
â”‚   â”œâ”€â”€ api-backend/                # åç«¯åº”ç”¨ (Port: 30002)
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ env.ts          # ç¯å¢ƒå˜é‡é…ç½®
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ prisma.ts       # Prisma å®¢æˆ·ç«¯é…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware/         # ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts         # JWT è®¤è¯ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ logger.ts       # æ—¥å¿—ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ upload.ts       # æ–‡ä»¶ä¸Šä¼ ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ errorHandler.ts # é”™è¯¯å¤„ç†ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/             # API è·¯ç”±
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts         # è®¤è¯è·¯ç”±
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ datasets.ts     # æ•°æ®é›†è·¯ç”±
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ casestudies.ts  # æ¡ˆä¾‹é›†è·¯ç”±
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ methods.ts      # æ–¹æ³•æ¨¡å—è·¯ç”±
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ admin.ts        # ç®¡ç†å‘˜è·¯ç”±
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ admin-methods.ts# æ–¹æ³•ç®¡ç†è·¯ç”±
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ relationships.ts# å…³ç³»å›¾è°±è·¯ç”±
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ rag.ts          # RAG æœç´¢è·¯ç”±
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ settings.ts     # ç³»ç»Ÿè®¾ç½®è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dataset.service.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ casestudy.service.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ method.service.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ rag.service.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ file.service.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts            # åº”ç”¨å…¥å£
â”‚   â”‚   â”‚   â””â”€â”€ seed.ts             # æ•°æ®åº“ç§å­
â”‚   â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”‚   â”œâ”€â”€ schema.prisma       # æ•°æ®åº“æ¨¡å‹å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ migrations/         # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ uploads/                # æ–‡ä»¶ä¸Šä¼ ç›®å½•
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”‚   â””â”€â”€ .env                    # ç¯å¢ƒå˜é‡
â”‚   â”‚
â”‚   â””â”€â”€ web-frontend/               # å‰ç«¯åº”ç”¨ (Port: 30001)
â”‚       â”œâ”€â”€ app/
â”‚       â”‚   â”œâ”€â”€ (main)/             # å‰å°é¡µé¢è·¯ç”±ç»„
â”‚       â”‚   â”‚   â”œâ”€â”€ page.tsx        # é¦–é¡µ
â”‚       â”‚   â”‚   â”œâ”€â”€ discover/       # æ•°æ®å‘ç°
â”‚       â”‚   â”‚   â”œâ”€â”€ casestudies/    # æ¡ˆä¾‹é›†
â”‚       â”‚   â”‚   â”œâ”€â”€ methods/        # æ–¹æ³•æ¨¡å—
â”‚       â”‚   â”‚   â”œâ”€â”€ explore/        # çŸ¥è¯†å›¾è°±
â”‚       â”‚   â”‚   â”œâ”€â”€ ai-search/      # AI æœç´¢
â”‚       â”‚   â”‚   â”œâ”€â”€ upload/         # ä¸Šä¼ æ•°æ®é›†
â”‚       â”‚   â”‚   â””â”€â”€ upload-casestudy/ # ä¸Šä¼ æ¡ˆä¾‹é›†
â”‚       â”‚   â”œâ”€â”€ admin/              # åå°ç®¡ç†è·¯ç”±ç»„
â”‚       â”‚   â”‚   â”œâ”€â”€ login/          # ç®¡ç†å‘˜ç™»å½•
â”‚       â”‚   â”‚   â”œâ”€â”€ dashboard/      # ä»ªè¡¨æ¿
â”‚       â”‚   â”‚   â”œâ”€â”€ datasets/       # æ•°æ®é›†ç®¡ç†
â”‚       â”‚   â”‚   â”œâ”€â”€ casestudies/    # æ¡ˆä¾‹é›†ç®¡ç†
â”‚       â”‚   â”‚   â”œâ”€â”€ methods/        # æ–¹æ³•æ¨¡å—ç®¡ç†
â”‚       â”‚   â”‚   â”œâ”€â”€ relationships/  # å…³ç³»ç®¡ç†
â”‚       â”‚   â”‚   â”œâ”€â”€ rag/            # RAG é…ç½®
â”‚       â”‚   â”‚   â””â”€â”€ settings/       # ç³»ç»Ÿè®¾ç½®
â”‚       â”‚   â”œâ”€â”€ datasets/           # æ•°æ®é›†è¯¦æƒ…ï¼ˆå…¬å…±ï¼‰
â”‚       â”‚   â”œâ”€â”€ layout.tsx          # æ ¹å¸ƒå±€
â”‚       â”‚   â”œâ”€â”€ providers.tsx       # å…¨å±€ Providers
â”‚       â”‚   â””â”€â”€ globals.css         # å…¨å±€æ ·å¼
â”‚       â”œâ”€â”€ components/             # UI ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ ui/                 # åŸºç¡€ UI ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ layout/             # å¸ƒå±€ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ dataset/            # æ•°æ®é›†ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ casestudy/          # æ¡ˆä¾‹é›†ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ method/             # æ–¹æ³•æ¨¡å—ç»„ä»¶
â”‚       â”‚   â””â”€â”€ admin/              # ç®¡ç†åå°ç»„ä»¶
â”‚       â”œâ”€â”€ lib/                    # å·¥å…·åº“
â”‚       â”‚   â”œâ”€â”€ api.ts              # API è°ƒç”¨å°è£…
â”‚       â”‚   â””â”€â”€ utils.ts            # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”‚       â”œâ”€â”€ layouts/                # é¡µé¢å¸ƒå±€
â”‚       â”œâ”€â”€ package.json
â”‚       â”œâ”€â”€ next.config.js
â”‚       â”œâ”€â”€ tailwind.config.ts
â”‚       â”œâ”€â”€ tsconfig.json
â”‚       â””â”€â”€ .env                    # ç¯å¢ƒå˜é‡
â”‚
â”œâ”€â”€ scripts/                        # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ backup.sh                   # æ•°æ®åº“å¤‡ä»½è„šæœ¬ï¼ˆLinuxï¼‰
â”‚   â”œâ”€â”€ backup.bat                  # æ•°æ®åº“å¤‡ä»½è„šæœ¬ï¼ˆWindowsï¼‰
â”‚   â”œâ”€â”€ restore.sh                  # æ•°æ®æ¢å¤è„šæœ¬ï¼ˆLinuxï¼‰
â”‚   â””â”€â”€ restore.bat                 # æ•°æ®æ¢å¤è„šæœ¬ï¼ˆWindowsï¼‰
â”‚
â”œâ”€â”€ database/                       # æ•°æ®åº“ç›¸å…³
â”‚   â””â”€â”€ backups/                    # å¤‡ä»½æ–‡ä»¶å­˜å‚¨
â”‚
â”œâ”€â”€ .claude/                        # Claude Code é…ç½®
â”œâ”€â”€ package.json                    # Monorepo æ ¹é…ç½®
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .htaccess                       # Apache é…ç½®
â””â”€â”€ README.md                       # æœ¬æ–‡ä»¶
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„ç³»ç»Ÿæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

| ç»„ä»¶ | æœ€ä½ç‰ˆæœ¬ | æ¨èç‰ˆæœ¬ | è¯´æ˜ |
|------|---------|---------|------|
| **Node.js** | 18.0.0 | 20.x LTS | JavaScript è¿è¡Œæ—¶ |
| **npm** | 9.0.0 | 10.x | åŒ…ç®¡ç†å™¨ |
| **PostgreSQL** | 15.0 | 15.x | æ•°æ®åº“ |
| **ç£ç›˜ç©ºé—´** | 10 GB | 20+ GB | å­˜å‚¨ä¸Šä¼ æ–‡ä»¶ |
| **å†…å­˜** | 4 GB | 8+ GB | è¿è¡Œç¯å¢ƒ |

### ä¸€ã€å…‹éš†é¡¹ç›®

```bash
# ä½¿ç”¨ HTTPS
git clone https://github.com/your-org/ucass-datashare.git

# æˆ–ä½¿ç”¨ SSH
git clone git@github.com:your-org/ucass-datashare.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd ucass-datashare
```

### äºŒã€å®‰è£…ä¾èµ–

é¡¹ç›®é‡‡ç”¨ npm workspaces ç®¡ç† monorepoï¼Œä¸€é”®å®‰è£…æ‰€æœ‰ä¾èµ–ï¼š

```bash
npm install
```

è¿™å°†è‡ªåŠ¨å®‰è£…æ ¹ç›®å½•å’Œæ‰€æœ‰å­åº”ç”¨çš„ä¾èµ–åŒ…ã€‚

### ä¸‰ã€é…ç½®æ•°æ®åº“

#### 3.1 å®‰è£… PostgreSQL

**Ubuntu/Debian**
```bash
# æ›´æ–°åŒ…åˆ—è¡¨
sudo apt update

# å®‰è£… PostgreSQL
sudo apt install postgresql postgresql-contrib

# å¯åŠ¨ PostgreSQL æœåŠ¡
sudo systemctl start postgresql
sudo systemctl enable postgresql

# éªŒè¯å®‰è£…
sudo systemctl status postgresql
```

**macOS**
```bash
# ä½¿ç”¨ Homebrew å®‰è£…
brew install postgresql@15

# å¯åŠ¨æœåŠ¡
brew services start postgresql@15

# éªŒè¯å®‰è£…
brew services list
```

**Windows**
1. è®¿é—® [PostgreSQLå®˜ç½‘](https://www.postgresql.org/download/windows/)
2. ä¸‹è½½å¹¶è¿è¡Œå®‰è£…ç¨‹åº
3. æŒ‰ç…§å‘å¯¼å®Œæˆå®‰è£…ï¼ˆè®°ä½è®¾ç½®çš„å¯†ç ï¼‰

#### 3.2 åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·

```bash
# åˆ‡æ¢åˆ° postgres ç”¨æˆ·
sudo -u postgres psql

# åœ¨ psql å‘½ä»¤è¡Œä¸­æ‰§è¡Œä»¥ä¸‹ SQL
CREATE DATABASE ucass_datashare;
CREATE USER ucass_user WITH ENCRYPTED PASSWORD 'your_secure_password';
GRANT ALL PRIVILEGES ON DATABASE ucass_datashare TO ucass_user;

# åœ¨ PostgreSQL 15+ ä¸­è¿˜éœ€è¦æˆäºˆ schema æƒé™
\c ucass_datashare
GRANT ALL ON SCHEMA public TO ucass_user;

# é€€å‡º psql
\q
```

> âš ï¸ **å®‰å…¨æç¤º**: è¯·å°† `your_secure_password` æ›¿æ¢ä¸ºå¼ºå¯†ç ï¼Œå¹¶å¦¥å–„ä¿ç®¡ã€‚

#### 3.3 éªŒè¯æ•°æ®åº“è¿æ¥

```bash
# æµ‹è¯•è¿æ¥
psql -h localhost -U ucass_user -d ucass_datashare

# å¦‚æœè¿æ¥æˆåŠŸï¼Œè¾“å…¥å¯†ç åä¼šè¿›å…¥ psql å‘½ä»¤è¡Œ
# è¾“å…¥ \q é€€å‡º
```

### å››ã€é…ç½®ç¯å¢ƒå˜é‡

#### 4.1 åç«¯é…ç½®

åˆ›å»ºåç«¯ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼š

```bash
cd apps/api-backend
cp env.example .env  # å¦‚æœæœ‰ç¤ºä¾‹æ–‡ä»¶ï¼Œæˆ–ç›´æ¥åˆ›å»º
```

ç¼–è¾‘ `apps/api-backend/.env`ï¼š

```env
# æ•°æ®åº“è¿æ¥
# æ ¼å¼: postgresql://ç”¨æˆ·å:å¯†ç @ä¸»æœº:ç«¯å£/æ•°æ®åº“å
DATABASE_URL="postgresql://ucass_user:your_secure_password@localhost:5432/ucass_datashare"

# æœåŠ¡é…ç½®
PORT=30002
NODE_ENV=development

# JWT å¯†é’¥ï¼ˆç”¨äºç”Ÿæˆå’ŒéªŒè¯ tokenï¼‰
# ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨å¼ºéšæœºå­—ç¬¦ä¸²ï¼šopenssl rand -base64 32
JWT_SECRET="your-secret-key-please-change-in-production"

# æ–‡ä»¶ä¸Šä¼ é…ç½®
UPLOAD_DIR=./uploads                # ä¸Šä¼ æ–‡ä»¶å­˜å‚¨ç›®å½•
MAX_FILE_SIZE=10737418240          # æœ€å¤§æ–‡ä»¶å¤§å° (10GB)

# ç®¡ç†å‘˜åˆå§‹è´¦å·ï¼ˆä»…ç”¨äºé¦–æ¬¡åˆå§‹åŒ–ï¼‰
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123

# OpenAI é…ç½®ï¼ˆç”¨äº RAG æœç´¢ï¼Œå¯é€‰ï¼‰
# å¦‚æœä¸é…ç½®ï¼ŒRAG åŠŸèƒ½å°†ä¸å¯ç”¨
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002
```

#### 4.2 å‰ç«¯é…ç½®

åˆ›å»ºå‰ç«¯ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼š

```bash
cd ../web-frontend
cp env.example .env.local  # æˆ–ç›´æ¥åˆ›å»º .env.local
```

ç¼–è¾‘ `apps/web-frontend/.env.local`ï¼š

```env
# API æœåŠ¡åœ°å€
NEXT_PUBLIC_API_URL=http://localhost:30002

# å‰ç«¯æœåŠ¡ç«¯å£
PORT=30001

# ç¯å¢ƒæ ‡è¯†
NODE_ENV=development
```

> ğŸ“ **æ³¨æ„**: Next.js ä¸­ä»¥ `NEXT_PUBLIC_` å¼€å¤´çš„ç¯å¢ƒå˜é‡ä¼šæš´éœ²åˆ°æµè§ˆå™¨ç«¯ã€‚

### äº”ã€åˆå§‹åŒ–æ•°æ®åº“

```bash
# è¿”å›é¡¹ç›®æ ¹ç›®å½•
cd ../..

# ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
npm run db:generate

# æ¨é€æ•°æ®åº“ schemaï¼ˆåˆ›å»ºæ‰€æœ‰è¡¨ï¼‰
npm run db:push

# åˆå§‹åŒ–ç§å­æ•°æ®ï¼ˆåˆ›å»ºç®¡ç†å‘˜è´¦å·å’Œæ–¹æ³•åˆ†ç±»ï¼‰
cd apps/api-backend
npm run db:seed
```

**é¢„æœŸè¾“å‡º**ï¼š
```
âœ… Prisma å®¢æˆ·ç«¯ç”ŸæˆæˆåŠŸ
âœ… æ•°æ®åº“è¡¨åˆ›å»ºæˆåŠŸ
âœ… ç§å­æ•°æ®åˆå§‹åŒ–å®Œæˆ
   - ç®¡ç†å‘˜è´¦å·å·²åˆ›å»º
   - æ–¹æ³•åˆ†ç±»å·²åˆå§‹åŒ– (10ä¸ªåˆ†ç±»)
```

### å…­ã€å¯åŠ¨å¼€å‘æœåŠ¡å™¨

#### æ–¹å¼ 1: åŒæ—¶å¯åŠ¨å‰åç«¯ï¼ˆæ¨èï¼‰

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
npm run dev
```

è¿™å°†å¹¶è¡Œå¯åŠ¨ï¼š
- åç«¯ API æœåŠ¡: http://localhost:30002
- å‰ç«¯ Web æœåŠ¡: http://localhost:30001

#### æ–¹å¼ 2: åˆ†åˆ«å¯åŠ¨

**ç»ˆç«¯ 1 - å¯åŠ¨åç«¯**
```bash
cd apps/api-backend
npm run dev
```

**ç»ˆç«¯ 2 - å¯åŠ¨å‰ç«¯**
```bash
cd apps/web-frontend
npm run dev
```

#### å¯åŠ¨æˆåŠŸæ ‡å¿—

**åç«¯å¯åŠ¨æˆåŠŸ**ï¼š
```
ğŸš€ Server running on http://localhost:30002
ğŸ“¦ Database connected successfully
âœ… All systems ready
```

**å‰ç«¯å¯åŠ¨æˆåŠŸ**ï¼š
```
â–² Next.js 14.0.0
- Local:        http://localhost:30001
- Ready in 2.3s
```

### ä¸ƒã€è®¿é—®åº”ç”¨

#### å‰å°é¡µé¢

| é¡µé¢ | URL | åŠŸèƒ½è¯´æ˜ |
|------|-----|---------|
| ğŸ  é¦–é¡µ | http://localhost:30001 | å¹³å°ä»‹ç»å’ŒåŠŸèƒ½å¯¼èˆª |
| ğŸ“Š æ•°æ®å‘ç° | http://localhost:30001/discover | æµè§ˆå’Œæœç´¢æ•°æ®é›† |
| ğŸ“‘ æ¡ˆä¾‹é›† | http://localhost:30001/casestudies | æµè§ˆå’ŒæŸ¥çœ‹æ¡ˆä¾‹ |
| ğŸ§© æ–¹æ³•æ¨¡å— | http://localhost:30001/methods | æµè§ˆæ–¹æ³•å­¦ä¹ èµ„æº |
| ğŸ” çŸ¥è¯†å›¾è°± | http://localhost:30001/explore | å¯è§†åŒ–èµ„æºå…³ç³» |
| ğŸ¤– AI æœç´¢ | http://localhost:30001/ai-search | è¯­ä¹‰æœç´¢ï¼ˆéœ€é…ç½® OpenAIï¼‰ |
| â¬†ï¸ ä¸Šä¼ æ•°æ®é›† | http://localhost:30001/upload | ä¸Šä¼ æ–°æ•°æ®é›† |
| â¬†ï¸ ä¸Šä¼ æ¡ˆä¾‹é›† | http://localhost:30001/upload-casestudy | ä¸Šä¼ æ–°æ¡ˆä¾‹ |

#### åå°ç®¡ç†

| é¡µé¢ | URL | åŠŸèƒ½è¯´æ˜ |
|------|-----|---------|
| ğŸ” ç®¡ç†å‘˜ç™»å½• | http://localhost:30001/admin/login | ç®¡ç†å‘˜ç™»å½•å…¥å£ |
| ğŸ“ˆ ä»ªè¡¨æ¿ | http://localhost:30001/admin/dashboard | ç»Ÿè®¡æ¦‚è§ˆ |
| ğŸ“Š æ•°æ®é›†ç®¡ç† | http://localhost:30001/admin/datasets | å®¡æ ¸å’Œç®¡ç†æ•°æ®é›† |
| ğŸ“‘ æ¡ˆä¾‹é›†ç®¡ç† | http://localhost:30001/admin/casestudies | å®¡æ ¸å’Œç®¡ç†æ¡ˆä¾‹é›† |
| ğŸ§© æ–¹æ³•ç®¡ç† | http://localhost:30001/admin/methods | ç®¡ç†æ–¹æ³•æ¨¡å— |
| ğŸ”— å…³ç³»ç®¡ç† | http://localhost:30001/admin/relationships | ç®¡ç†èµ„æºå…³è” |
| ğŸ¤– RAG é…ç½® | http://localhost:30001/admin/rag | é…ç½® RAG æœç´¢ |
| âš™ï¸ ç³»ç»Ÿè®¾ç½® | http://localhost:30001/admin/settings | ç³»ç»Ÿé…ç½® |

#### é»˜è®¤ç®¡ç†å‘˜è´¦å·

```
ç”¨æˆ·å: admin
å¯†ç : admin123
```

> âš ï¸ **é‡è¦å®‰å…¨æç¤º**:
> 1. é¦–æ¬¡ç™»å½•åï¼Œè¯·ç«‹å³å‰å¾€"ç³»ç»Ÿè®¾ç½®"ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
> 2. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰ï¼ŒåŠ¡å¿…ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„ `JWT_SECRET`

### å…«ã€éªŒè¯å®‰è£…

æ‰§è¡Œä»¥ä¸‹æ£€æŸ¥ç¡®ä¿ä¸€åˆ‡æ­£å¸¸ï¼š

#### 8.1 æ£€æŸ¥åç«¯ API

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:30002/health

# é¢„æœŸè¾“å‡º
{
  "status": "ok",
  "timestamp": "2025-01-17T10:30:00.000Z",
  "version": "1.0.0"
}
```

#### 8.2 æ£€æŸ¥æ•°æ®åº“

```bash
# æ‰“å¼€ Prisma Studio å¯è§†åŒ–å·¥å…·
npm run db:studio

# æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ http://localhost:5555
# å¯ä»¥æŸ¥çœ‹æ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨å’Œæ•°æ®
```

#### 8.3 æµ‹è¯•ç®¡ç†å‘˜ç™»å½•

1. è®¿é—® http://localhost:30001/admin/login
2. ä½¿ç”¨é»˜è®¤è´¦å·ç™»å½•
3. æˆåŠŸååº”è·³è½¬åˆ°ä»ªè¡¨æ¿

#### 8.4 æµ‹è¯•æ–‡ä»¶ä¸Šä¼ 

1. è®¿é—® http://localhost:30001/upload
2. å¡«å†™æ•°æ®é›†ä¿¡æ¯
3. ä¸Šä¼ ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶
4. æ£€æŸ¥ `apps/api-backend/uploads/` ç›®å½•æ˜¯å¦æœ‰æ–‡ä»¶

### ä¹ã€å¸¸è§é—®é¢˜æ’æŸ¥

<details>
<summary><strong>âŒ æ•°æ®åº“è¿æ¥å¤±è´¥</strong></summary>

**é”™è¯¯ä¿¡æ¯**: `Error: P1001: Can't reach database server`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. æ£€æŸ¥ PostgreSQL æ˜¯å¦è¿è¡Œ
sudo systemctl status postgresql  # Linux
brew services list  # macOS

# 2. å¯åŠ¨ PostgreSQL
sudo systemctl start postgresql  # Linux
brew services start postgresql@15  # macOS

# 3. æ£€æŸ¥è¿æ¥å­—ç¬¦ä¸²æ˜¯å¦æ­£ç¡®
# ç¡®è®¤ apps/api-backend/.env ä¸­çš„ DATABASE_URL æ­£ç¡®

# 4. æµ‹è¯•æ•°æ®åº“è¿æ¥
psql -h localhost -U ucass_user -d ucass_datashare
```
</details>

<details>
<summary><strong>âŒ ç«¯å£è¢«å ç”¨</strong></summary>

**é”™è¯¯ä¿¡æ¯**: `Error: listen EADDRINUSE: address already in use :::30002`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# Linux/Mac - æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :30002
kill -9 <PID>

# Windows - æŸ¥æ‰¾å¹¶ç»“æŸè¿›ç¨‹
netstat -ano | findstr :30002
taskkill /PID <PID> /F

# æˆ–è€…ä¿®æ”¹ç«¯å£
# ç¼–è¾‘ apps/api-backend/.env å’Œ apps/web-frontend/.env.local
# å°† PORT æ”¹ä¸ºå…¶ä»–æœªå ç”¨ç«¯å£
```
</details>

<details>
<summary><strong>âŒ Prisma å®¢æˆ·ç«¯æœªç”Ÿæˆ</strong></summary>

**é”™è¯¯ä¿¡æ¯**: `Error: @prisma/client did not initialize yet`

**è§£å†³æ–¹æ¡ˆ**:
```bash
cd apps/api-backend
npm run db:generate
```
</details>

<details>
<summary><strong>âŒ å‰ç«¯æ„å»ºå¤±è´¥</strong></summary>

**è§£å†³æ–¹æ¡ˆ**:
```bash
cd apps/web-frontend

# æ¸…é™¤ç¼“å­˜å’Œé‡æ–°å®‰è£…
rm -rf .next node_modules
npm install

# é‡æ–°æ„å»º
npm run build
```
</details>

<details>
<summary><strong>âŒ æ–‡ä»¶ä¸Šä¼ å¤±è´¥</strong></summary>

**æ£€æŸ¥æ¸…å•**:
1. ç¡®è®¤ `apps/api-backend/uploads/` ç›®å½•å­˜åœ¨ä¸”æœ‰å†™æƒé™
2. æ£€æŸ¥ `.env` ä¸­çš„ `MAX_FILE_SIZE` è®¾ç½®
3. æ£€æŸ¥æ–‡ä»¶å¤§å°æ˜¯å¦è¶…è¿‡é™åˆ¶
4. æŸ¥çœ‹åç«¯æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯
</details>

---

## ğŸ“¦ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              è´Ÿè½½å‡è¡¡ / CDN                  â”‚
â”‚         (Nginx / Cloudflare)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚ å‰ç«¯   â”‚      â”‚  åç«¯    â”‚
â”‚ Next.jsâ”‚â—„â”€â”€â”€â”€â”€â”¤ Express  â”‚
â”‚(30001) â”‚      â”‚ (30002)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                     â”‚
               â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
               â”‚ PostgreSQL â”‚
               â”‚  (5432)    â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç¯å¢ƒå‡†å¤‡

#### æœåŠ¡å™¨è¦æ±‚ï¼ˆæ¨èé…ç½®ï¼‰

- **CPU**: 2æ ¸å¿ƒ+
- **å†…å­˜**: 4GB+
- **å­˜å‚¨**: 50GB+ SSD
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 22.04 LTS / CentOS 8+ / Debian 11+
- **ç½‘ç»œ**: å…¬ç½‘ IP æˆ–åŸŸå

### ä¸€ã€æœåŠ¡å™¨åˆå§‹åŒ–

```bash
# æ›´æ–°ç³»ç»Ÿ
sudo apt update && sudo apt upgrade -y

# å®‰è£…å¿…è¦å·¥å…·
sudo apt install -y git curl wget vim

# å®‰è£… Node.js (ä½¿ç”¨ NodeSource)
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs

# éªŒè¯å®‰è£…
node --version  # åº”æ˜¾ç¤º v20.x.x
npm --version   # åº”æ˜¾ç¤º 10.x.x

# å®‰è£… PostgreSQL
sudo apt install -y postgresql postgresql-contrib

# å®‰è£… Nginx (ç”¨äºåå‘ä»£ç†)
sudo apt install -y nginx

# å®‰è£… PM2 (è¿›ç¨‹ç®¡ç†å™¨)
sudo npm install -g pm2
```

### äºŒã€å…‹éš†å’Œé…ç½®é¡¹ç›®

```bash
# åˆ›å»ºåº”ç”¨ç›®å½•
sudo mkdir -p /var/www
cd /var/www

# å…‹éš†é¡¹ç›®
sudo git clone https://github.com/your-org/ucass-datashare.git
cd ucass-datashare

# è®¾ç½®æƒé™
sudo chown -R $USER:$USER /var/www/ucass-datashare

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå‚è€ƒå‰é¢çš„ç¯å¢ƒå˜é‡é…ç½®éƒ¨åˆ†ï¼‰
cd apps/api-backend
nano .env  # è®¾ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡

cd ../web-frontend
nano .env.local  # è®¾ç½®å‰ç«¯ç¯å¢ƒå˜é‡
```

#### ç”Ÿäº§ç¯å¢ƒå˜é‡ç¤ºä¾‹

**apps/api-backend/.env**:
```env
DATABASE_URL="postgresql://ucass_user:STRONG_PASSWORD@localhost:5432/ucass_datashare"
PORT=30002
NODE_ENV=production

# ä½¿ç”¨å¼ºéšæœºå¯†é’¥
JWT_SECRET="ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨ openssl rand -base64 64 ç”Ÿæˆçš„å¯†é’¥"

UPLOAD_DIR=/var/www/ucass-datashare/apps/api-backend/uploads
MAX_FILE_SIZE=10737418240

# ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è®¾ç½®é»˜è®¤ç®¡ç†å‘˜å¯†ç 
# ADMIN_USERNAME=
# ADMIN_PASSWORD=

OPENAI_API_KEY=sk-your-production-api-key
```

**apps/web-frontend/.env.local**:
```env
# ä½¿ç”¨åŸŸåæˆ–æœåŠ¡å™¨ IP
NEXT_PUBLIC_API_URL=https://your-domain.com/api
# æˆ– http://your-server-ip:30002

PORT=30001
NODE_ENV=production
```

### ä¸‰ã€é…ç½®æ•°æ®åº“

```bash
# åˆ›å»ºç”Ÿäº§æ•°æ®åº“
sudo -u postgres psql

CREATE DATABASE ucass_datashare;
CREATE USER ucass_user WITH ENCRYPTED PASSWORD 'STRONG_PASSWORD_HERE';
GRANT ALL PRIVILEGES ON DATABASE ucass_datashare TO ucass_user;

\c ucass_datashare
GRANT ALL ON SCHEMA public TO ucass_user;
ALTER DATABASE ucass_datashare OWNER TO ucass_user;

\q

# åˆå§‹åŒ–æ•°æ®åº“
cd /var/www/ucass-datashare
npm run db:generate
npm run db:push
cd apps/api-backend && npm run db:seed
```

### å››ã€æ„å»ºåº”ç”¨

```bash
cd /var/www/ucass-datashare

# æ„å»ºå‰åç«¯
npm run build

# éªŒè¯æ„å»ºäº§ç‰©
ls apps/api-backend/dist  # åº”è¯¥çœ‹åˆ°ç¼–è¯‘åçš„ JS æ–‡ä»¶
ls apps/web-frontend/.next  # åº”è¯¥çœ‹åˆ° Next.js æ„å»ºäº§ç‰©
```

### äº”ã€ä½¿ç”¨ PM2 å¯åŠ¨æœåŠ¡

#### 5.1 åˆ›å»º PM2 é…ç½®æ–‡ä»¶

åˆ›å»º `ecosystem.config.js`:

```bash
nano /var/www/ucass-datashare/ecosystem.config.js
```

å†…å®¹å¦‚ä¸‹:

```javascript
module.exports = {
  apps: [
    {
      name: 'ucass-backend',
      cwd: '/var/www/ucass-datashare/apps/api-backend',
      script: 'dist/index.js',
      instances: 2,  // ä½¿ç”¨é›†ç¾¤æ¨¡å¼
      exec_mode: 'cluster',
      env: {
        NODE_ENV: 'production',
        PORT: 30002
      },
      error_file: '/var/www/ucass-datashare/logs/backend-error.log',
      out_file: '/var/www/ucass-datashare/logs/backend-out.log',
      log_date_format: 'YYYY-MM-DD HH:mm:ss',
      merge_logs: true,
      autorestart: true,
      watch: false,
      max_memory_restart: '1G',
    },
    {
      name: 'ucass-frontend',
      cwd: '/var/www/ucass-datashare/apps/web-frontend',
      script: 'node_modules/next/dist/bin/next',
      args: 'start -p 30001',
      instances: 1,
      exec_mode: 'fork',
      env: {
        NODE_ENV: 'production',
        PORT: 30001
      },
      error_file: '/var/www/ucass-datashare/logs/frontend-error.log',
      out_file: '/var/www/ucass-datashare/logs/frontend-out.log',
      log_date_format: 'YYYY-MM-DD HH:mm:ss',
      autorestart: true,
      watch: false,
      max_memory_restart: '1G',
    }
  ]
};
```

#### 5.2 å¯åŠ¨ PM2

```bash
# åˆ›å»ºæ—¥å¿—ç›®å½•
mkdir -p /var/www/ucass-datashare/logs

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
pm2 start ecosystem.config.js

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs

# ä¿å­˜ PM2 é…ç½®
pm2 save

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
# æ‰§è¡Œè¾“å‡ºçš„å‘½ä»¤ï¼ˆä¼šæç¤ºå…·ä½“å‘½ä»¤ï¼‰
```

#### 5.3 PM2 å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹çŠ¶æ€
pm2 status

# é‡å¯æœåŠ¡
pm2 restart ucass-backend
pm2 restart ucass-frontend
pm2 restart all

# åœæ­¢æœåŠ¡
pm2 stop ucass-backend
pm2 stop all

# æŸ¥çœ‹æ—¥å¿—
pm2 logs ucass-backend --lines 100
pm2 logs ucass-frontend --lines 100

# ç›‘æ§
pm2 monit

# åˆ é™¤è¿›ç¨‹
pm2 delete ucass-backend
pm2 delete all
```

### å…­ã€é…ç½® Nginx åå‘ä»£ç†

#### 6.1 åˆ›å»º Nginx é…ç½®æ–‡ä»¶

```bash
sudo nano /etc/nginx/sites-available/ucass-datashare
```

**é…ç½®å†…å®¹**:

```nginx
# å‰ç«¯å’Œ API åœ¨åŒä¸€åŸŸåä¸‹ï¼ˆæ¨èï¼‰
server {
    listen 80;
    server_name your-domain.com;  # æ›¿æ¢ä¸ºä½ çš„åŸŸå

    client_max_body_size 10G;  # å…è®¸å¤§æ–‡ä»¶ä¸Šä¼ 
    client_body_timeout 300s;
    proxy_read_timeout 300s;

    # æ—¥å¿—é…ç½®
    access_log /var/log/nginx/ucass-access.log;
    error_log /var/log/nginx/ucass-error.log;

    # å‰ç«¯é¡µé¢
    location / {
        proxy_pass http://localhost:30001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # åç«¯ API
    location /api {
        proxy_pass http://localhost:30002;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;

        # æ–‡ä»¶ä¸Šä¼ ç›¸å…³
        proxy_request_buffering off;
        proxy_buffering off;
    }

    # ä¸Šä¼ æ–‡ä»¶è®¿é—®ï¼ˆå¦‚æœéœ€è¦ç›´æ¥è®¿é—®ä¸Šä¼ çš„æ–‡ä»¶ï¼‰
    location /uploads {
        alias /var/www/ucass-datashare/apps/api-backend/uploads;
        autoindex off;
        expires 30d;
        add_header Cache-Control "public, immutable";
    }

    # Next.js é™æ€æ–‡ä»¶
    location /_next/static {
        proxy_pass http://localhost:30001;
        expires 365d;
        add_header Cache-Control "public, immutable";
    }

    # Gzip å‹ç¼©
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types text/plain text/css text/xml text/javascript
               application/x-javascript application/xml+rss
               application/json application/javascript;
}
```

#### 6.2 å¯ç”¨é…ç½®å¹¶é‡å¯ Nginx

```bash
# åˆ›å»ºè½¯é“¾æ¥
sudo ln -s /etc/nginx/sites-available/ucass-datashare /etc/nginx/sites-enabled/

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡å¯ Nginx
sudo systemctl restart nginx

# è®¾ç½®å¼€æœºè‡ªå¯
sudo systemctl enable nginx
```

### ä¸ƒã€é…ç½® HTTPS (ä½¿ç”¨ Let's Encrypt)

```bash
# å®‰è£… Certbot
sudo apt install -y certbot python3-certbot-nginx

# è·å– SSL è¯ä¹¦
sudo certbot --nginx -d your-domain.com

# Certbot ä¼šè‡ªåŠ¨ä¿®æ”¹ Nginx é…ç½®ï¼Œæ·»åŠ  HTTPS æ”¯æŒ

# æµ‹è¯•è‡ªåŠ¨ç»­æœŸ
sudo certbot renew --dry-run

# è¯ä¹¦ä¼šè‡ªåŠ¨ç»­æœŸï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ
```

### å…«ã€é…ç½®é˜²ç«å¢™

```bash
# ä½¿ç”¨ UFW (Ubuntu)
sudo ufw allow 22/tcp    # SSH
sudo ufw allow 80/tcp    # HTTP
sudo ufw allow 443/tcp   # HTTPS
sudo ufw enable

# æ£€æŸ¥çŠ¶æ€
sudo ufw status
```

### ä¹ã€ä¼˜åŒ–å’Œå®‰å…¨é…ç½®

#### 9.1 PostgreSQL ä¼˜åŒ–

ç¼–è¾‘ PostgreSQL é…ç½®:

```bash
sudo nano /etc/postgresql/15/main/postgresql.conf
```

å»ºè®®ä¿®æ”¹çš„é…ç½®ï¼ˆæ ¹æ®æœåŠ¡å™¨é…ç½®è°ƒæ•´ï¼‰:

```conf
# å†…å­˜é…ç½®ï¼ˆå‡è®¾ 4GB å†…å­˜ï¼‰
shared_buffers = 1GB
effective_cache_size = 3GB
work_mem = 16MB
maintenance_work_mem = 256MB

# è¿æ¥é…ç½®
max_connections = 100

# WAL é…ç½®
wal_buffers = 16MB
checkpoint_completion_target = 0.9
```

é‡å¯ PostgreSQL:

```bash
sudo systemctl restart postgresql
```

#### 9.2 ç³»ç»Ÿçº§ä¼˜åŒ–

```bash
# å¢åŠ æ–‡ä»¶æè¿°ç¬¦é™åˆ¶
sudo nano /etc/security/limits.conf
```

æ·»åŠ :

```conf
* soft nofile 65535
* hard nofile 65535
```

#### 9.3 æ—¥å¿—è½®è½¬

åˆ›å»ºæ—¥å¿—è½®è½¬é…ç½®:

```bash
sudo nano /etc/logrotate.d/ucass-datashare
```

å†…å®¹:

```conf
/var/www/ucass-datashare/logs/*.log {
    daily
    missingok
    rotate 14
    compress
    delaycompress
    notifempty
    create 0640 $USER $USER
    sharedscripts
    postrotate
        pm2 reloadLogs
    endscript
}
```

### åã€ç›‘æ§å’Œç»´æŠ¤

#### 10.1 é…ç½®ç›‘æ§

**å®‰è£…ç›‘æ§å·¥å…·**:

```bash
# PM2 Plus (å…è´¹ï¼Œå¯é€‰)
pm2 install pm2-logrotate
pm2 set pm2-logrotate:max_size 10M
pm2 set pm2-logrotate:retain 7
```

#### 10.2 å¥åº·æ£€æŸ¥è„šæœ¬

åˆ›å»º `healthcheck.sh`:

```bash
#!/bin/bash

# æ£€æŸ¥åç«¯
BACKEND=$(curl -s http://localhost:30002/health | grep -o '"status":"ok"')
if [ -z "$BACKEND" ]; then
    echo "Backend is down, restarting..."
    pm2 restart ucass-backend
    # å¯ä»¥æ·»åŠ å‘Šè­¦é€šçŸ¥
fi

# æ£€æŸ¥å‰ç«¯
FRONTEND=$(curl -s -o /dev/null -w "%{http_code}" http://localhost:30001)
if [ "$FRONTEND" != "200" ]; then
    echo "Frontend is down, restarting..."
    pm2 restart ucass-frontend
fi
```

æ·»åŠ åˆ° crontab:

```bash
crontab -e

# æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
*/5 * * * * /var/www/ucass-datashare/healthcheck.sh >> /var/www/ucass-datashare/logs/healthcheck.log 2>&1
```

#### 10.3 æ•°æ®åº“å¤‡ä»½

å‚è€ƒä¸‹ä¸€ç« èŠ‚çš„å¤‡ä»½ä¸æ¢å¤ã€‚

---

## ğŸ’¾ å¤‡ä»½ä¸æ¢å¤

### è‡ªåŠ¨å¤‡ä»½æ–¹æ¡ˆ

#### å¤‡ä»½è„šæœ¬è¯¦è§£

é¡¹ç›®æä¾›äº†è·¨å¹³å°çš„å¤‡ä»½è„šæœ¬ï¼š

- `scripts/backup.sh` - Linux/macOS å¤‡ä»½è„šæœ¬
- `scripts/backup.bat` - Windows å¤‡ä»½è„šæœ¬

#### Linux/macOS å¤‡ä»½

**scripts/backup.sh**:

```bash
#!/bin/bash

# é…ç½®
BACKUP_DIR="./database/backups"
DATE=$(date +"%Y%m%d_%H%M%S")
BACKUP_NAME="ucass_backup_${DATE}"
DB_NAME="ucass_datashare"
DB_USER="ucass_user"

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p "$BACKUP_DIR"

# å¤‡ä»½æ•°æ®åº“
echo "å¼€å§‹å¤‡ä»½æ•°æ®åº“..."
PGPASSWORD="${DB_PASSWORD}" pg_dump -U "$DB_USER" -h localhost -F c -b -v -f "${BACKUP_DIR}/${BACKUP_NAME}.dump" "$DB_NAME"

# å¤‡ä»½ä¸Šä¼ æ–‡ä»¶
echo "å¼€å§‹å¤‡ä»½ä¸Šä¼ æ–‡ä»¶..."
tar -czf "${BACKUP_DIR}/${BACKUP_NAME}_uploads.tar.gz" -C apps/api-backend uploads

# åˆ é™¤30å¤©å‰çš„å¤‡ä»½
find "$BACKUP_DIR" -name "ucass_backup_*" -mtime +30 -delete

echo "å¤‡ä»½å®Œæˆ: ${BACKUP_NAME}"
```

**ä½¿ç”¨æ–¹æ³•**:

```bash
cd /var/www/ucass-datashare

# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x scripts/backup.sh

# æ‰‹åŠ¨æ‰§è¡Œå¤‡ä»½
./scripts/backup.sh

# è®¾ç½®æ•°æ®åº“å¯†ç ç¯å¢ƒå˜é‡
export DB_PASSWORD="your_database_password"
```

#### Windows å¤‡ä»½

**scripts/backup.bat**:

```batch
@echo off
set BACKUP_DIR=.\database\backups
set DATE=%date:~0,4%%date:~5,2%%date:~8,2%_%time:~0,2%%time:~3,2%%time:~6,2%
set DATE=%DATE: =0%
set BACKUP_NAME=ucass_backup_%DATE%
set DB_NAME=ucass_datashare
set DB_USER=ucass_user

if not exist "%BACKUP_DIR%" mkdir "%BACKUP_DIR%"

echo å¼€å§‹å¤‡ä»½æ•°æ®åº“...
pg_dump -U %DB_USER% -h localhost -F c -b -v -f "%BACKUP_DIR%\%BACKUP_NAME%.dump" %DB_NAME%

echo å¼€å§‹å¤‡ä»½ä¸Šä¼ æ–‡ä»¶...
tar -czf "%BACKUP_DIR%\%BACKUP_NAME%_uploads.tar.gz" -C apps\api-backend uploads

echo å¤‡ä»½å®Œæˆ: %BACKUP_NAME%
pause
```

**ä½¿ç”¨æ–¹æ³•**:

```cmd
cd D:\Projects\UCASS_DataShare
scripts\backup.bat
```

### è‡ªåŠ¨å®šæ—¶å¤‡ä»½

#### Linux ä½¿ç”¨ Cron

```bash
# ç¼–è¾‘ crontab
crontab -e

# æ¯å¤©å‡Œæ™¨ 2 ç‚¹è‡ªåŠ¨å¤‡ä»½
0 2 * * * cd /var/www/ucass-datashare && DB_PASSWORD="your_password" ./scripts/backup.sh >> /var/www/ucass-datashare/logs/backup.log 2>&1

# æ¯å‘¨æ—¥å‡Œæ™¨ 3 ç‚¹å¤‡ä»½
0 3 * * 0 cd /var/www/ucass-datashare && DB_PASSWORD="your_password" ./scripts/backup.sh >> /var/www/ucass-datashare/logs/backup.log 2>&1
```

#### Windows ä½¿ç”¨ä»»åŠ¡è®¡åˆ’ç¨‹åº

1. æ‰“å¼€"ä»»åŠ¡è®¡åˆ’ç¨‹åº"
2. åˆ›å»ºåŸºæœ¬ä»»åŠ¡
   - åç§°: UCASS DataShare è‡ªåŠ¨å¤‡ä»½
   - è§¦å‘å™¨: æ¯å¤© 2:00 AM
   - æ“ä½œ: å¯åŠ¨ç¨‹åº
   - ç¨‹åº: `D:\Projects\UCASS_DataShare\scripts\backup.bat`
   - èµ·å§‹äº: `D:\Projects\UCASS_DataShare`

### æ•°æ®æ¢å¤

#### Linux/macOS æ¢å¤

**scripts/restore.sh**:

```bash
#!/bin/bash

if [ -z "$1" ]; then
    echo "ç”¨æ³•: ./restore.sh backup_name"
    echo "ç¤ºä¾‹: ./restore.sh ucass_backup_20250117_020000"
    exit 1
fi

BACKUP_DIR="./database/backups"
BACKUP_NAME=$1
DB_NAME="ucass_datashare"
DB_USER="ucass_user"

# æ£€æŸ¥å¤‡ä»½æ–‡ä»¶æ˜¯å¦å­˜åœ¨
if [ ! -f "${BACKUP_DIR}/${BACKUP_NAME}.dump" ]; then
    echo "é”™è¯¯: å¤‡ä»½æ–‡ä»¶ä¸å­˜åœ¨: ${BACKUP_DIR}/${BACKUP_NAME}.dump"
    exit 1
fi

# ç¡®è®¤æ¢å¤æ“ä½œ
read -p "è­¦å‘Š: è¿™å°†è¦†ç›–å½“å‰æ•°æ®åº“ã€‚æ˜¯å¦ç»§ç»­? (yes/no): " confirm
if [ "$confirm" != "yes" ]; then
    echo "å·²å–æ¶ˆ"
    exit 0
fi

# åœæ­¢åº”ç”¨
echo "åœæ­¢åº”ç”¨..."
pm2 stop all

# åˆ é™¤ç°æœ‰æ•°æ®åº“
echo "åˆ é™¤ç°æœ‰æ•°æ®åº“..."
PGPASSWORD="${DB_PASSWORD}" psql -U "$DB_USER" -h localhost -c "DROP DATABASE IF EXISTS ${DB_NAME};"
PGPASSWORD="${DB_PASSWORD}" psql -U "$DB_USER" -h localhost -c "CREATE DATABASE ${DB_NAME};"

# æ¢å¤æ•°æ®åº“
echo "æ¢å¤æ•°æ®åº“..."
PGPASSWORD="${DB_PASSWORD}" pg_restore -U "$DB_USER" -h localhost -d "$DB_NAME" -v "${BACKUP_DIR}/${BACKUP_NAME}.dump"

# æ¢å¤ä¸Šä¼ æ–‡ä»¶
if [ -f "${BACKUP_DIR}/${BACKUP_NAME}_uploads.tar.gz" ]; then
    echo "æ¢å¤ä¸Šä¼ æ–‡ä»¶..."
    rm -rf apps/api-backend/uploads
    tar -xzf "${BACKUP_DIR}/${BACKUP_NAME}_uploads.tar.gz" -C apps/api-backend
fi

# é‡å¯åº”ç”¨
echo "é‡å¯åº”ç”¨..."
pm2 restart all

echo "æ¢å¤å®Œæˆ!"
```

**ä½¿ç”¨æ–¹æ³•**:

```bash
# åˆ—å‡ºæ‰€æœ‰å¤‡ä»½
ls -lh database/backups/

# æ¢å¤æŒ‡å®šå¤‡ä»½
export DB_PASSWORD="your_database_password"
./scripts/restore.sh ucass_backup_20250117_020000
```

#### Windows æ¢å¤

**scripts/restore.bat**:

```batch
@echo off
if "%~1"=="" (
    echo ç”¨æ³•: restore.bat backup_name
    echo ç¤ºä¾‹: restore.bat ucass_backup_20250117_020000
    exit /b 1
)

set BACKUP_DIR=.\database\backups
set BACKUP_NAME=%~1
set DB_NAME=ucass_datashare
set DB_USER=ucass_user

if not exist "%BACKUP_DIR%\%BACKUP_NAME%.dump" (
    echo é”™è¯¯: å¤‡ä»½æ–‡ä»¶ä¸å­˜åœ¨
    exit /b 1
)

echo è­¦å‘Š: è¿™å°†è¦†ç›–å½“å‰æ•°æ®åº“!
pause

echo åœæ­¢åº”ç”¨...
pm2 stop all

echo åˆ é™¤ç°æœ‰æ•°æ®åº“...
psql -U %DB_USER% -h localhost -c "DROP DATABASE IF EXISTS %DB_NAME%;"
psql -U %DB_USER% -h localhost -c "CREATE DATABASE %DB_NAME%;"

echo æ¢å¤æ•°æ®åº“...
pg_restore -U %DB_USER% -h localhost -d %DB_NAME% -v "%BACKUP_DIR%\%BACKUP_NAME%.dump"

if exist "%BACKUP_DIR%\%BACKUP_NAME%_uploads.tar.gz" (
    echo æ¢å¤ä¸Šä¼ æ–‡ä»¶...
    rmdir /s /q apps\api-backend\uploads
    tar -xzf "%BACKUP_DIR%\%BACKUP_NAME%_uploads.tar.gz" -C apps\api-backend
)

echo é‡å¯åº”ç”¨...
pm2 restart all

echo æ¢å¤å®Œæˆ!
pause
```

### å¤‡ä»½ç­–ç•¥å»ºè®®

#### 3-2-1 å¤‡ä»½åŸåˆ™

- **3ä»½æ‹·è´** - 1ä»½ç”Ÿäº§æ•°æ® + 2ä»½å¤‡ä»½
- **2ç§ä»‹è´¨** - æœ¬åœ°ç£ç›˜ + äº‘å­˜å‚¨
- **1ä»½å¼‚åœ°** - è¿œç¨‹æœåŠ¡å™¨æˆ–äº‘ç«¯

#### æ¨èå¤‡ä»½ç­–ç•¥

```bash
# æ¯æ—¥å¢é‡å¤‡ä»½ (ä¿ç•™ 7 å¤©)
0 2 * * * /path/to/backup.sh

# æ¯å‘¨å®Œæ•´å¤‡ä»½ (ä¿ç•™ 4 å‘¨)
0 3 * * 0 /path/to/full-backup.sh

# æ¯æœˆå½’æ¡£å¤‡ä»½ (ä¿ç•™ 12 ä¸ªæœˆ)
0 4 1 * * /path/to/archive-backup.sh
```

#### åŒæ­¥åˆ°äº‘å­˜å‚¨

**ä½¿ç”¨ rclone åŒæ­¥åˆ°å¯¹è±¡å­˜å‚¨**:

```bash
# å®‰è£… rclone
curl https://rclone.org/install.sh | sudo bash

# é…ç½®äº‘å­˜å‚¨
rclone config

# è‡ªåŠ¨ä¸Šä¼ å¤‡ä»½åˆ°äº‘ç«¯
#!/bin/bash
# backup-and-sync.sh

# æ‰§è¡Œæœ¬åœ°å¤‡ä»½
./scripts/backup.sh

# åŒæ­¥åˆ°äº‘ç«¯
rclone sync ./database/backups remote:ucass-backups \
    --progress \
    --transfers 4 \
    --checkers 8 \
    --log-file ./logs/rclone.log
```

---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### ER å›¾æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AdminUser     â”‚
â”‚  (ç®¡ç†å‘˜è¡¨)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Dataset                 â”‚         â”‚       CaseStudy                  â”‚
â”‚         (æ•°æ®é›†)                  â”‚         â”‚       (æ¡ˆä¾‹é›†)                    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ + id: String (PK)                â”‚         â”‚ + id: String (PK)                â”‚
â”‚ + name: String                   â”‚         â”‚ + title: String                  â”‚
â”‚ + catalog: String                â”‚         â”‚ + author: String                 â”‚
â”‚ + summary: String                â”‚         â”‚ + discipline: String             â”‚
â”‚ + source: String                 â”‚         â”‚ + publication: String            â”‚
â”‚ + sourceUrl: String              â”‚â—„â”€â”€â”€â”€â”   â”‚ + publicationYear: Int           â”‚
â”‚ + isReviewed: Boolean            â”‚     â”‚   â”‚ + practiceUrl: String            â”‚
â”‚ + isVisible: Boolean             â”‚     â”‚   â”‚ + hasVideo: Boolean              â”‚
â”‚ + isFeatured: Boolean            â”‚     â”‚   â”‚ + isReviewed: Boolean            â”‚
â”‚ + downloadCount: Int             â”‚     â”‚   â”‚ + downloadCount: Int             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                             â”‚              â”‚
           â”‚ 1:N                         â”‚              â”‚ 1:N
           â–¼                             â”‚              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       DatasetFile                â”‚     â”‚   â”‚      CaseStudyFile               â”‚
â”‚      (æ•°æ®é›†æ–‡ä»¶)                 â”‚     â”‚   â”‚      (æ¡ˆä¾‹é›†æ–‡ä»¶)                 â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚     â”‚   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ + id: String (PK)                â”‚     â”‚   â”‚ + id: String (PK)                â”‚
â”‚ + filename: String               â”‚     â”‚   â”‚ + filename: String               â”‚
â”‚ + filePath: String               â”‚     â”‚   â”‚ + filePath: String               â”‚
â”‚ + fileSize: Int                  â”‚     â”‚   â”‚ + fileSize: Int                  â”‚
â”‚ + datasetId: String (FK)         â”‚     â”‚   â”‚ + caseStudyId: String (FK)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚      CaseStudyDataset (å…³è”è¡¨)            â”‚
                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
                   â”‚ + id: String (PK)                         â”‚
                   â”‚ + caseStudyId: String (FK)                â”‚
                   â”‚ + datasetId: String (FK)                  â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     MethodCategory               â”‚         â”‚      MethodModule                â”‚
â”‚     (æ–¹æ³•åˆ†ç±»)                    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚      (æ–¹æ³•æ¨¡å—)                   â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  1:N    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ + id: String (PK)                â”‚         â”‚ + id: String (PK)                â”‚
â”‚ + code: String (unique)          â”‚         â”‚ + code: String (unique)          â”‚
â”‚ + name: String                   â”‚         â”‚ + name: String                   â”‚
â”‚ + englishName: String            â”‚         â”‚ + categoryId: String (FK)        â”‚
â”‚ + sortOrder: Int                 â”‚         â”‚ + practiceUrl: String            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ + downloadCount: Int             â”‚
                                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                        â”‚ 1:N
                                                        â–¼
                                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                             â”‚    MethodModuleFile              â”‚
                                             â”‚    (æ–¹æ³•æ¨¡å—æ–‡ä»¶)                 â”‚
                                             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
                                             â”‚ + id: String (PK)                â”‚
                                             â”‚ + filename: String               â”‚
                                             â”‚ + filePath: String               â”‚
                                             â”‚ + methodModuleId: String (FK)    â”‚
                                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    EmbeddedContent               â”‚         â”‚     SystemSetting                â”‚
â”‚    (RAGå‘é‡å†…å®¹)                  â”‚         â”‚     (ç³»ç»Ÿè®¾ç½®)                    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ + id: String (PK)                â”‚         â”‚ + id: String (PK)                â”‚
â”‚ + contentType: String            â”‚         â”‚ + key: String (unique)           â”‚
â”‚ + contentId: String              â”‚         â”‚ + value: String                  â”‚
â”‚ + content: Text                  â”‚         â”‚ + category: String               â”‚
â”‚ + embedding: Text (JSON)         â”‚         â”‚ + isSecret: Boolean              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒè¡¨ç»“æ„

#### 1. ç®¡ç†å‘˜è¡¨ (admin_users)

```sql
CREATE TABLE admin_users (
    id TEXT PRIMARY KEY,
    username TEXT UNIQUE NOT NULL,
    password_hash TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**å­—æ®µè¯´æ˜**:
- `id`: ç®¡ç†å‘˜å”¯ä¸€æ ‡è¯† (CUID)
- `username`: ç™»å½•ç”¨æˆ·å
- `password_hash`: bcrypt åŠ å¯†çš„å¯†ç 
- `created_at/updated_at`: æ—¶é—´æˆ³

#### 2. æ•°æ®é›†è¡¨ (datasets)

```sql
CREATE TABLE datasets (
    id TEXT PRIMARY KEY,
    name TEXT NOT NULL,
    catalog TEXT NOT NULL,  -- å­¦ç§‘åˆ†ç±»
    summary TEXT,           -- æ‘˜è¦
    source TEXT NOT NULL,   -- æ•°æ®æ¥æº
    source_url TEXT,
    source_date TIMESTAMP,
    recommended_citations TEXT[],  -- æ¨èå¼•ç”¨ï¼ˆæ•°ç»„ï¼‰
    enable_preview BOOLEAN DEFAULT FALSE,
    uploaded_by TEXT,
    upload_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    update_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    is_reviewed BOOLEAN DEFAULT FALSE,
    is_visible BOOLEAN DEFAULT FALSE,
    is_featured BOOLEAN DEFAULT FALSE,
    enable_data_analysis BOOLEAN DEFAULT FALSE,
    download_count INTEGER DEFAULT 0
);
```

**å­¦ç§‘åˆ†ç±» (catalog) æšä¸¾å€¼**:
- `æ”¿æ²»å­¦` - Political Science
- `ç¤¾ä¼šå­¦` - Sociology
- `ç»æµå­¦` - Economics
- `æ³•å­¦` - Law
- `ç®¡ç†å­¦` - Management
- `ä¼ æ’­å­¦` - Communication
- `åœ°ç†å­¦` - Geography
- `å†å²å­¦` - History
- `å¿ƒç†å­¦` - Psychology

#### 3. æ•°æ®é›†æ–‡ä»¶è¡¨ (dataset_files)

```sql
CREATE TABLE dataset_files (
    id TEXT PRIMARY KEY,
    filename TEXT NOT NULL,
    original_name TEXT NOT NULL,
    file_path TEXT NOT NULL,
    file_size INTEGER NOT NULL,
    file_type TEXT NOT NULL,  -- 'excel', 'csv', 'json', 'pdf', etc.
    mime_type TEXT,
    upload_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    is_previewable BOOLEAN DEFAULT FALSE,
    dataset_id TEXT NOT NULL,
    FOREIGN KEY (dataset_id) REFERENCES datasets(id) ON DELETE CASCADE
);
```

#### 4. æ¡ˆä¾‹é›†è¡¨ (case_studies)

```sql
CREATE TABLE case_studies (
    id TEXT PRIMARY KEY,
    title TEXT NOT NULL,
    author TEXT NOT NULL,
    discipline TEXT NOT NULL,  -- å­¦ç§‘é¢†åŸŸ
    summary TEXT,              -- ç®€è¿°ï¼ˆ30å­—ç¬¦ä»¥å†…ï¼‰
    publication TEXT NOT NULL, -- å‘è¡¨æœŸåˆŠ/ä¼šè®®
    publication_year INTEGER,
    publication_url TEXT,
    practice_url TEXT,         -- å®æ“é“¾æ¥
    uploaded_by TEXT,
    upload_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    update_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    is_reviewed BOOLEAN DEFAULT FALSE,
    is_visible BOOLEAN DEFAULT FALSE,
    is_featured BOOLEAN DEFAULT FALSE,
    enable_practice BOOLEAN DEFAULT FALSE,
    has_video BOOLEAN DEFAULT FALSE,
    download_count INTEGER DEFAULT 0
);
```

#### 5. æ¡ˆä¾‹é›†æ–‡ä»¶è¡¨ (case_study_files)

```sql
CREATE TABLE case_study_files (
    id TEXT PRIMARY KEY,
    filename TEXT NOT NULL,
    original_name TEXT NOT NULL,
    file_path TEXT NOT NULL,
    file_size INTEGER NOT NULL,
    file_type TEXT NOT NULL,  -- 'pdf', 'video', 'image', etc.
    mime_type TEXT,
    upload_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    case_study_id TEXT NOT NULL,
    FOREIGN KEY (case_study_id) REFERENCES case_studies(id) ON DELETE CASCADE
);
```

#### 6. æ¡ˆä¾‹é›†-æ•°æ®é›†å…³è”è¡¨ (case_study_datasets)

```sql
CREATE TABLE case_study_datasets (
    id TEXT PRIMARY KEY,
    case_study_id TEXT NOT NULL,
    dataset_id TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (case_study_id) REFERENCES case_studies(id) ON DELETE CASCADE,
    FOREIGN KEY (dataset_id) REFERENCES datasets(id) ON DELETE CASCADE,
    UNIQUE(case_study_id, dataset_id)
);
```

#### 7. æ–¹æ³•åˆ†ç±»è¡¨ (method_categories)

```sql
CREATE TABLE method_categories (
    id TEXT PRIMARY KEY,
    code TEXT UNIQUE NOT NULL,  -- 'DA', 'DP', 'QS', 'NLP', etc.
    name TEXT NOT NULL,         -- 'æ•°æ®è·å–'
    english_name TEXT NOT NULL, -- 'Data Acquisition'
    sort_order INTEGER DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**é¢„ç½®åˆ†ç±»æ•°æ®**:

| code | name | english_name |
|------|------|--------------|
| DA | æ•°æ®è·å– | Data Acquisition |
| DP | æ•°æ®é¢„å¤„ç† | Data Preprocessing |
| QS | å®šé‡ç ”ç©¶ | Quantitative Statistics |
| NLP | è‡ªç„¶è¯­è¨€å¤„ç† | Natural Language Processing |
| SNA | ç¤¾ä¼šç½‘ç»œåˆ†æ | Social Network Analysis |
| GIS | åœ°ç†ä¿¡æ¯ç³»ç»Ÿ | Geographic Information System |
| ML | æœºå™¨å­¦ä¹  | Machine Learning |
| SM | ä»¿çœŸæ¨¡æ‹Ÿ | Simulation Modeling |
| DV | æ•°æ®å¯è§†åŒ– | Data Visualization |
| CI | å› æœæ¨æ–­ | Causal Inference |

#### 8. æ–¹æ³•æ¨¡å—è¡¨ (method_modules)

```sql
CREATE TABLE method_modules (
    id TEXT PRIMARY KEY,
    code TEXT UNIQUE NOT NULL,    -- 'DA01', 'NLP15', etc.
    name TEXT NOT NULL,            -- 'é™æ€ç½‘é¡µæŠ“å–'
    english_name TEXT NOT NULL,    -- 'Static Scraping'
    summary TEXT,
    category_id TEXT NOT NULL,
    practice_url TEXT,
    enable_practice BOOLEAN DEFAULT FALSE,
    download_count INTEGER DEFAULT 0,
    preview_count INTEGER DEFAULT 0,
    upload_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    update_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    is_visible BOOLEAN DEFAULT TRUE,
    FOREIGN KEY (category_id) REFERENCES method_categories(id)
);
```

#### 9. æ–¹æ³•æ¨¡å—æ–‡ä»¶è¡¨ (method_module_files)

```sql
CREATE TABLE method_module_files (
    id TEXT PRIMARY KEY,
    filename TEXT NOT NULL,
    original_name TEXT NOT NULL,
    relative_path TEXT,  -- æ–‡ä»¶å¤¹ç»“æ„è·¯å¾„
    file_path TEXT NOT NULL,
    file_size INTEGER NOT NULL,
    file_type TEXT NOT NULL,
    mime_type TEXT,
    upload_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    method_module_id TEXT NOT NULL,
    FOREIGN KEY (method_module_id) REFERENCES method_modules(id) ON DELETE CASCADE
);
```

#### 10. RAG å‘é‡å†…å®¹è¡¨ (embedded_contents)

```sql
CREATE TABLE embedded_contents (
    id TEXT PRIMARY KEY,
    content_type TEXT NOT NULL,  -- 'dataset' | 'casestudy'
    content_id TEXT NOT NULL,     -- å…³è”çš„èµ„æº ID
    title TEXT NOT NULL,
    content TEXT NOT NULL,        -- æ–‡æœ¬å†…å®¹
    embedding TEXT NOT NULL,      -- å‘é‡ï¼ˆJSON å­—ç¬¦ä¸²ï¼‰
    metadata JSONB,               -- é¢å¤–å…ƒæ•°æ®
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_embedded_contents_type_id ON embedded_contents(content_type, content_id);
```

#### 11. ç³»ç»Ÿè®¾ç½®è¡¨ (system_settings)

```sql
CREATE TABLE system_settings (
    id TEXT PRIMARY KEY,
    key TEXT UNIQUE NOT NULL,
    value TEXT NOT NULL,
    category TEXT DEFAULT 'general',  -- 'general', 'api', 'rag'
    is_secret BOOLEAN DEFAULT FALSE,   -- æ˜¯å¦ä¸ºæ•æ„Ÿä¿¡æ¯
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### ç´¢å¼•ä¼˜åŒ–

```sql
-- æ•°æ®é›†ç´¢å¼•
CREATE INDEX idx_datasets_catalog ON datasets(catalog);
CREATE INDEX idx_datasets_visible ON datasets(is_visible, is_reviewed);
CREATE INDEX idx_datasets_featured ON datasets(is_featured);
CREATE INDEX idx_datasets_upload_time ON datasets(upload_time DESC);

-- æ¡ˆä¾‹é›†ç´¢å¼•
CREATE INDEX idx_casestudies_discipline ON case_studies(discipline);
CREATE INDEX idx_casestudies_visible ON case_studies(is_visible, is_reviewed);
CREATE INDEX idx_casestudies_upload_time ON case_studies(upload_time DESC);

-- æ–¹æ³•æ¨¡å—ç´¢å¼•
CREATE INDEX idx_method_modules_category ON method_modules(category_id);
CREATE INDEX idx_method_modules_visible ON method_modules(is_visible);

-- å…³è”å…³ç³»ç´¢å¼•
CREATE INDEX idx_case_study_datasets_case ON case_study_datasets(case_study_id);
CREATE INDEX idx_case_study_datasets_dataset ON case_study_datasets(dataset_id);

-- RAG ç´¢å¼•
CREATE INDEX idx_embedded_contents_type ON embedded_contents(content_type);
```

---

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### API æ–‡æ¡£

#### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:30002/api`
- **è®¤è¯æ–¹å¼**: JWT Bearer Token
- **è¯·æ±‚æ ¼å¼**: `application/json` æˆ– `multipart/form-data` (æ–‡ä»¶ä¸Šä¼ )
- **å“åº”æ ¼å¼**: `application/json`

#### è®¤è¯ API

**POST /api/auth/login**

ç®¡ç†å‘˜ç™»å½•

```http
POST /api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "admin123"
}
```

å“åº”:
```json
{
  "success": true,
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": "clh...",
      "username": "admin"
    }
  }
}
```

**GET /api/auth/verify**

éªŒè¯ Token æœ‰æ•ˆæ€§

```http
GET /api/auth/verify
Authorization: Bearer <token>
```

#### æ•°æ®é›† API

**GET /api/datasets**

è·å–æ•°æ®é›†åˆ—è¡¨

æŸ¥è¯¢å‚æ•°:
- `page` (number): é¡µç ï¼Œé»˜è®¤ 1
- `limit` (number): æ¯é¡µæ•°é‡ï¼Œé»˜è®¤ 20
- `catalog` (string): å­¦ç§‘åˆ†ç±»ç­›é€‰
- `search` (string): æœç´¢å…³é”®è¯
- `featured` (boolean): ä»…ç²¾é€‰

```http
GET /api/datasets?page=1&limit=20&catalog=ç¤¾ä¼šå­¦&featured=true
```

**GET /api/datasets/:id**

è·å–æ•°æ®é›†è¯¦æƒ…

**POST /api/datasets** (éœ€è®¤è¯)

åˆ›å»ºæ•°æ®é›†

```http
POST /api/datasets
Content-Type: multipart/form-data
Authorization: Bearer <token>

# è¡¨å•æ•°æ®
name: ä¸­å›½ç»¼åˆç¤¾ä¼šè°ƒæŸ¥2023
catalog: ç¤¾ä¼šå­¦
summary: å…¨å›½æ€§ç¤¾ä¼šè°ƒæŸ¥æ•°æ®
source: CGSS
files: <æ–‡ä»¶>
```

**PUT /api/datasets/:id** (éœ€è®¤è¯)

æ›´æ–°æ•°æ®é›†

**DELETE /api/datasets/:id** (éœ€è®¤è¯)

åˆ é™¤æ•°æ®é›†

**GET /api/datasets/:id/preview**

é¢„è§ˆæ•°æ®é›†ï¼ˆExcel/CSVï¼‰

**GET /api/datasets/:id/download**

ä¸‹è½½æ•°æ®é›†

#### æ¡ˆä¾‹é›† API

**GET /api/casestudies**

è·å–æ¡ˆä¾‹é›†åˆ—è¡¨

**GET /api/casestudies/:id**

è·å–æ¡ˆä¾‹é›†è¯¦æƒ…

**POST /api/casestudies** (éœ€è®¤è¯)

åˆ›å»ºæ¡ˆä¾‹é›†

**PUT /api/casestudies/:id** (éœ€è®¤è¯)

æ›´æ–°æ¡ˆä¾‹é›†

**DELETE /api/casestudies/:id** (éœ€è®¤è¯)

åˆ é™¤æ¡ˆä¾‹é›†

**GET /api/casestudies/:id/video**

æµå¼æ’­æ”¾æ¡ˆä¾‹è§†é¢‘

#### æ–¹æ³•æ¨¡å— API

**GET /api/methods/categories**

è·å–æ‰€æœ‰æ–¹æ³•åˆ†ç±»

å“åº”:
```json
{
  "success": true,
  "data": [
    {
      "id": "clh...",
      "code": "DA",
      "name": "æ•°æ®è·å–",
      "englishName": "Data Acquisition",
      "modules": [
        {
          "id": "clh...",
          "code": "DA01",
          "name": "é™æ€ç½‘é¡µæŠ“å–",
          "downloadCount": 42
        }
      ]
    }
  ]
}
```

**GET /api/methods/:id**

è·å–æ–¹æ³•æ¨¡å—è¯¦æƒ…

**GET /api/methods/:id/download**

ä¸‹è½½æ–¹æ³•æ¨¡å—æ–‡ä»¶

#### å…³ç³»å›¾è°± API

**GET /api/relationships/graph**

è·å–çŸ¥è¯†å›¾è°±æ•°æ®

å“åº”:
```json
{
  "success": true,
  "data": {
    "nodes": [
      {
        "id": "dataset-clh...",
        "label": "ä¸­å›½ç»¼åˆç¤¾ä¼šè°ƒæŸ¥2023",
        "type": "dataset",
        "catalog": "ç¤¾ä¼šå­¦"
      },
      {
        "id": "casestudy-clh...",
        "label": "ç¤¾ä¼šèµ„æœ¬ä¸å¥åº·ç ”ç©¶",
        "type": "casestudy"
      }
    ],
    "links": [
      {
        "source": "casestudy-clh...",
        "target": "dataset-clh..."
      }
    ]
  }
}
```

#### RAG æœç´¢ API

**POST /api/rag/search**

è¯­ä¹‰æœç´¢

```http
POST /api/rag/search
Content-Type: application/json

{
  "query": "å…³äºç¤¾ä¼šèµ„æœ¬çš„ç ”ç©¶æ•°æ®",
  "limit": 10
}
```

å“åº”:
```json
{
  "success": true,
  "data": {
    "results": [
      {
        "id": "clh...",
        "title": "ä¸­å›½ç»¼åˆç¤¾ä¼šè°ƒæŸ¥2023",
        "type": "dataset",
        "similarity": 0.89,
        "summary": "..."
      }
    ]
  }
}
```

**POST /api/rag/embed** (éœ€è®¤è¯)

å‘é‡åŒ–èµ„æºå†…å®¹

#### ç®¡ç†å‘˜ API

**GET /api/admin/stats** (éœ€è®¤è¯)

è·å–å¹³å°ç»Ÿè®¡æ•°æ®

```json
{
  "success": true,
  "data": {
    "totalDatasets": 156,
    "totalCaseStudies": 89,
    "totalMethods": 127,
    "pendingReview": 12,
    "totalDownloads": 4523
  }
}
```

**GET /api/admin/datasets** (éœ€è®¤è¯)

è·å–æ‰€æœ‰æ•°æ®é›†ï¼ˆåŒ…æ‹¬æœªå®¡æ ¸ï¼‰

**PUT /api/admin/datasets/:id/review** (éœ€è®¤è¯)

å®¡æ ¸æ•°æ®é›†

```http
PUT /api/admin/datasets/:id/review
Content-Type: application/json
Authorization: Bearer <token>

{
  "isReviewed": true,
  "isVisible": true,
  "isFeatured": false
}
```

### é”™è¯¯å¤„ç†

æ‰€æœ‰ API é”™è¯¯å“åº”æ ¼å¼:

```json
{
  "success": false,
  "error": {
    "code": "RESOURCE_NOT_FOUND",
    "message": "æ•°æ®é›†ä¸å­˜åœ¨"
  }
}
```

å¸¸è§é”™è¯¯ç :

| é”™è¯¯ç  | HTTP çŠ¶æ€ | è¯´æ˜ |
|--------|----------|------|
| `UNAUTHORIZED` | 401 | æœªæˆæƒ |
| `FORBIDDEN` | 403 | æƒé™ä¸è¶³ |
| `RESOURCE_NOT_FOUND` | 404 | èµ„æºä¸å­˜åœ¨ |
| `VALIDATION_ERROR` | 400 | è¯·æ±‚å‚æ•°é”™è¯¯ |
| `FILE_TOO_LARGE` | 413 | æ–‡ä»¶è¿‡å¤§ |
| `SERVER_ERROR` | 500 | æœåŠ¡å™¨é”™è¯¯ |

### å‰ç«¯å¼€å‘

#### ç›®å½•ç»“æ„çº¦å®š

```
app/
â”œâ”€â”€ (main)/          # å‰å°è·¯ç”±ç»„ï¼ˆå…¬å…±è®¿é—®ï¼‰
â”‚   â”œâ”€â”€ layout.tsx   # å¸ƒå±€
â”‚   â””â”€â”€ page.tsx     # é¡µé¢
â””â”€â”€ admin/           # åå°è·¯ç”±ç»„ï¼ˆéœ€è®¤è¯ï¼‰
    â”œâ”€â”€ layout.tsx   # ç®¡ç†åå°å¸ƒå±€
    â””â”€â”€ page.tsx     # ç®¡ç†é¡µé¢
```

#### API è°ƒç”¨å°è£…

**lib/api.ts**:

```typescript
const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:30002';

export async function fetchAPI(endpoint: string, options: RequestInit = {}) {
  const token = localStorage.getItem('admin_token');

  const response = await fetch(`${API_URL}${endpoint}`, {
    ...options,
    headers: {
      'Content-Type': 'application/json',
      ...(token && { Authorization: `Bearer ${token}` }),
      ...options.headers,
    },
  });

  if (!response.ok) {
    const error = await response.json();
    throw new Error(error.error?.message || 'API Error');
  }

  return response.json();
}

export const api = {
  // æ•°æ®é›†
  getDatasets: (params?: any) => fetchAPI('/api/datasets?' + new URLSearchParams(params)),
  getDataset: (id: string) => fetchAPI(`/api/datasets/${id}`),

  // æ¡ˆä¾‹é›†
  getCaseStudies: (params?: any) => fetchAPI('/api/casestudies?' + new URLSearchParams(params)),

  // è®¤è¯
  login: (credentials: { username: string; password: string }) =>
    fetchAPI('/api/auth/login', {
      method: 'POST',
      body: JSON.stringify(credentials),
    }),
};
```

#### ä½¿ç”¨ SWR è¿›è¡Œæ•°æ®è·å–

```typescript
import useSWR from 'swr';
import { api } from '@/lib/api';

export function useDatasets(params?: any) {
  const { data, error, isLoading } = useSWR(
    ['/api/datasets', params],
    () => api.getDatasets(params),
    {
      revalidateOnFocus: false,
      dedupingInterval: 60000, // 60ç§’å†…ä¸é‡å¤è¯·æ±‚
    }
  );

  return {
    datasets: data?.data || [],
    isLoading,
    error,
  };
}
```

### ä»£ç è§„èŒƒ

#### TypeScript

- ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼
- ä¼˜å…ˆä½¿ç”¨æ¥å£(interface)å®šä¹‰ç±»å‹
- é¿å…ä½¿ç”¨ `any`ï¼Œä½¿ç”¨ `unknown` æ›¿ä»£
- ä½¿ç”¨å¯é€‰é“¾(`?.`)å’Œç©ºå€¼åˆå¹¶(`??`)

#### å‘½åçº¦å®š

- ç»„ä»¶ï¼šPascalCase (`DatasetCard.tsx`)
- å‡½æ•°ï¼šcamelCase (`fetchDatasets`)
- å¸¸é‡ï¼šUPPER_SNAKE_CASE (`API_URL`)
- æ–‡ä»¶ï¼škebab-case (`dataset-list.tsx`)

#### æäº¤è§„èŒƒ

ä½¿ç”¨è¯­ä¹‰åŒ–æäº¤ä¿¡æ¯:

```
feat: æ·»åŠ æ•°æ®é›†é¢„è§ˆåŠŸèƒ½
fix: ä¿®å¤æ¡ˆä¾‹é›†è§†é¢‘æ’­æ”¾é—®é¢˜
docs: æ›´æ–° API æ–‡æ¡£
style: è°ƒæ•´å¸ƒå±€æ ·å¼
refactor: é‡æ„æ–‡ä»¶ä¸Šä¼ é€»è¾‘
test: æ·»åŠ å•å…ƒæµ‹è¯•
chore: æ›´æ–°ä¾èµ–åŒ…
```

### å¸¸ç”¨å¼€å‘å‘½ä»¤

```bash
# æ ¹ç›®å½•å‘½ä»¤
npm run dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build            # æ„å»ºæ‰€æœ‰åº”ç”¨
npm start                # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

# æ•°æ®åº“å‘½ä»¤
npm run db:generate      # ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
npm run db:push          # æ¨é€ schema åˆ°æ•°æ®åº“
npm run db:migrate       # åˆ›å»ºè¿ç§»æ–‡ä»¶
npm run db:studio        # æ‰“å¼€ Prisma Studio

# åç«¯å‘½ä»¤ï¼ˆåœ¨ apps/api-backendï¼‰
npm run dev              # å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
npm run build            # TypeScript ç¼–è¯‘
npm start                # ç”Ÿäº§æ¨¡å¼
npm run db:seed          # åˆå§‹åŒ–ç§å­æ•°æ®

# å‰ç«¯å‘½ä»¤ï¼ˆåœ¨ apps/web-frontendï¼‰
npm run dev              # å¼€å‘æ¨¡å¼
npm run build            # Next.js æ„å»º
npm start                # ç”Ÿäº§æ¨¡å¼
npm run lint             # ESLint æ£€æŸ¥
```

---

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ•°æ®åº“è¿æ¥å¤±è´¥

**ç—‡çŠ¶**: `Error: P1001: Can't reach database server`

**åŸå› **:
- PostgreSQL æœåŠ¡æœªå¯åŠ¨
- æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²é”™è¯¯
- é˜²ç«å¢™é˜»æ­¢è¿æ¥

**è§£å†³**:
```bash
# æ£€æŸ¥ PostgreSQL çŠ¶æ€
sudo systemctl status postgresql

# å¯åŠ¨æœåŠ¡
sudo systemctl start postgresql

# æ£€æŸ¥è¿æ¥å­—ç¬¦ä¸²
cat apps/api-backend/.env | grep DATABASE_URL

# æµ‹è¯•è¿æ¥
psql -h localhost -U ucass_user -d ucass_datashare
```

#### 2. ç«¯å£è¢«å ç”¨

**ç—‡çŠ¶**: `Error: listen EADDRINUSE: address already in use :::30002`

**è§£å†³**:
```bash
# Linux/Mac
lsof -i :30002
kill -9 <PID>

# Windows
netstat -ano | findstr :30002
taskkill /PID <PID> /F

# æˆ–ä¿®æ”¹ç«¯å£
# ç¼–è¾‘ .env æ–‡ä»¶ä¸­çš„ PORT å˜é‡
```

#### 3. Prisma å®¢æˆ·ç«¯æœªç”Ÿæˆ

**ç—‡çŠ¶**: `@prisma/client did not initialize yet`

**è§£å†³**:
```bash
cd apps/api-backend
npm run db:generate
# å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œå°è¯•åˆ é™¤ node_modules/@prisma
rm -rf node_modules/@prisma
npm install
npm run db:generate
```

#### 4. å‰ç«¯æ„å»ºå¤±è´¥

**ç—‡çŠ¶**: å„ç§æ„å»ºé”™è¯¯

**è§£å†³**:
```bash
cd apps/web-frontend
rm -rf .next node_modules
npm install
npm run build

# å¦‚æœæ˜¯ç±»å‹é”™è¯¯ï¼Œæ£€æŸ¥ TypeScript é…ç½®
npx tsc --noEmit
```

#### 5. æ–‡ä»¶ä¸Šä¼ å¤±è´¥

**å¯èƒ½åŸå› **:
- æ–‡ä»¶è¿‡å¤§
- ä¸Šä¼ ç›®å½•æƒé™é—®é¢˜
- ç£ç›˜ç©ºé—´ä¸è¶³

**è§£å†³**:
```bash
# æ£€æŸ¥ä¸Šä¼ ç›®å½•æƒé™
ls -la apps/api-backend/uploads
chmod 755 apps/api-backend/uploads

# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h

# æ£€æŸ¥æ–‡ä»¶å¤§å°é™åˆ¶
cat apps/api-backend/.env | grep MAX_FILE_SIZE

# å¢åŠ  Nginx ä¸Šä¼ é™åˆ¶ï¼ˆå¦‚æœä½¿ç”¨ Nginxï¼‰
sudo nano /etc/nginx/nginx.conf
# æ·»åŠ æˆ–ä¿®æ”¹: client_max_body_size 10G;
sudo systemctl reload nginx
```

#### 6. JWT Token è¿‡æœŸ

**ç—‡çŠ¶**: é¢‘ç¹éœ€è¦é‡æ–°ç™»å½•

**è§£å†³**:
```typescript
// apps/api-backend/src/config/env.ts
// å¢åŠ  token æœ‰æ•ˆæœŸ
const token = jwt.sign(
  { id: user.id, username: user.username },
  JWT_SECRET,
  { expiresIn: '7d' } // ä» 24h æ”¹ä¸º 7d
);
```

#### 7. CORS é”™è¯¯

**ç—‡çŠ¶**: `Access to fetch at 'http://localhost:30002' from origin 'http://localhost:30001' has been blocked by CORS policy`

**è§£å†³**:
```typescript
// apps/api-backend/src/index.ts
app.use(cors({
  origin: [
    'http://localhost:3000',
    'http://localhost:30001',
    'https://your-domain.com' // æ·»åŠ ç”Ÿäº§åŸŸå
  ],
  credentials: true,
}));
```

#### 8. RAG æœç´¢ä¸å·¥ä½œ

**å¯èƒ½åŸå› **:
- OpenAI API key æœªé…ç½®
- API key æ— æ•ˆæˆ–é¢åº¦ç”¨å°½
- å‘é‡æ•°æ®æœªç”Ÿæˆ

**è§£å†³**:
```bash
# æ£€æŸ¥ OpenAI é…ç½®
cat apps/api-backend/.env | grep OPENAI

# æµ‹è¯• API key
curl https://api.openai.com/v1/models \
  -H "Authorization: Bearer $OPENAI_API_KEY"

# é‡æ–°ç”Ÿæˆå‘é‡æ•°æ®
# è®¿é—®ç®¡ç†åå° -> RAG é…ç½® -> é‡æ–°ç´¢å¼•
```

#### 9. çŸ¥è¯†å›¾è°±ä¸æ˜¾ç¤º

**å¯èƒ½åŸå› **:
- æ²¡æœ‰å…³è”æ•°æ®
- æµè§ˆå™¨ä¸æ”¯æŒ Canvas
- JavaScript é”™è¯¯

**è§£å†³**:
```bash
# æ£€æŸ¥æ˜¯å¦æœ‰å…³è”å…³ç³»
psql -U ucass_user -d ucass_datashare
SELECT COUNT(*) FROM case_study_datasets;

# æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹é”™è¯¯
# Chrome: F12 -> Console

# æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
# Ctrl+Shift+Delete
```

#### 10. PM2 è¿›ç¨‹å´©æºƒ

**ç—‡çŠ¶**: æœåŠ¡é¢‘ç¹é‡å¯

**è§£å†³**:
```bash
# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
pm2 logs ucass-backend --lines 100
pm2 logs ucass-frontend --lines 100

# å¢åŠ å†…å­˜é™åˆ¶
pm2 delete all
# ç¼–è¾‘ ecosystem.config.js
# max_memory_restart: '2G'
pm2 start ecosystem.config.js

# ç›‘æ§å†…å­˜ä½¿ç”¨
pm2 monit
```

### æ—¥å¿—æŸ¥çœ‹

```bash
# åç«¯æ—¥å¿—
tail -f apps/api-backend/logs/*.log

# å‰ç«¯æ—¥å¿—
tail -f apps/web-frontend/logs/*.log

# Nginx æ—¥å¿—
sudo tail -f /var/log/nginx/ucass-access.log
sudo tail -f /var/log/nginx/ucass-error.log

# PostgreSQL æ—¥å¿—
sudo tail -f /var/log/postgresql/postgresql-15-main.log

# PM2 æ—¥å¿—
pm2 logs --lines 100
```

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **æ•°æ®åº“ä¼˜åŒ–**
   - å®šæœŸæ‰§è¡Œ `VACUUM ANALYZE`
   - ä¸ºå¸¸ç”¨æŸ¥è¯¢æ·»åŠ ç´¢å¼•
   - ä½¿ç”¨è¿æ¥æ± 

2. **æ–‡ä»¶ç¼“å­˜**
   - é…ç½® Nginx é™æ€æ–‡ä»¶ç¼“å­˜
   - ä½¿ç”¨ CDN åˆ†å‘æ–‡ä»¶

3. **å‰ç«¯ä¼˜åŒ–**
   - å¯ç”¨ Next.js å›¾ç‰‡ä¼˜åŒ–
   - ä½¿ç”¨ä»£ç åˆ†å‰²
   - å¯ç”¨ SWR ç¼“å­˜

4. **åç«¯ä¼˜åŒ–**
   - ä½¿ç”¨ PM2 é›†ç¾¤æ¨¡å¼
   - å¯ç”¨ gzip å‹ç¼©
   - å®ç° API é™æµ

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

```
MIT License

Copyright (c) 2025 UCASS (è®¡ç®—ç¤¾ä¼šç§‘å­¦ä¸å›½å®¶æ²»ç†å®éªŒå®¤)

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---

## ğŸ‘¥ å›¢é˜Ÿä¸è´¡çŒ®

### é¡¹ç›®å›¢é˜Ÿ

**è®¡ç®—ç¤¾ä¼šç§‘å­¦ä¸å›½å®¶æ²»ç†å®éªŒå®¤ (UCASS)**

### è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼

#### å¦‚ä½•è´¡çŒ®

1. **Fork æœ¬ä»“åº“**
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯** (`git checkout -b feature/AmazingFeature`)
3. **æäº¤æ›´æ”¹** (`git commit -m 'feat: Add some AmazingFeature'`)
4. **æ¨é€åˆ°åˆ†æ”¯** (`git push origin feature/AmazingFeature`)
5. **æäº¤ Pull Request**

#### è´¡çŒ®ç±»å‹

- ğŸ› æŠ¥å‘Š Bug
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½
- ğŸ“ æ”¹è¿›æ–‡æ¡£
- ğŸ¨ ä¼˜åŒ–ç•Œé¢
- âš¡ æ€§èƒ½ä¼˜åŒ–
- âœ… æ·»åŠ æµ‹è¯•

### è”ç³»æ–¹å¼

- **Issue**: [GitHub Issues](https://github.com/your-org/ucass-datashare/issues)
- **è®¨è®º**: [GitHub Discussions](https://github.com/your-org/ucass-datashare/discussions)

---

## ğŸ™ è‡´è°¢

### å¼€æºé¡¹ç›®

æ„Ÿè°¢ä»¥ä¸‹ä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼Œä½¿æœ¬å¹³å°çš„å¼€å‘æˆä¸ºå¯èƒ½ï¼š

#### æ ¸å¿ƒæ¡†æ¶
- [Next.js](https://nextjs.org/) - React å…¨æ ˆæ¡†æ¶
- [Express](https://expressjs.com/) - Node.js Web æ¡†æ¶
- [Prisma](https://www.prisma.io/) - ä¸‹ä¸€ä»£ ORM
- [PostgreSQL](https://www.postgresql.org/) - å¼ºå¤§çš„å¼€æºæ•°æ®åº“

#### UI ç»„ä»¶
- [NextUI](https://nextui.org/) - ç°ä»£åŒ– React UI åº“
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- [Lucide React](https://lucide.dev/) - ç²¾ç¾çš„å›¾æ ‡åº“
- [Framer Motion](https://www.framer.com/motion/) - åŠ¨ç”»åº“

#### æ•°æ®å¯è§†åŒ–
- [Recharts](https://recharts.org/) - åŸºäº React çš„å›¾è¡¨åº“
- [react-force-graph](https://github.com/vasturiano/react-force-graph) - åŠ›å¯¼å‘å›¾å¯è§†åŒ–
- [D3.js](https://d3js.org/) - æ•°æ®é©±åŠ¨çš„å¯è§†åŒ–åº“

#### å·¥å…·åº“
- [SWR](https://swr.vercel.app/) - React Hooks æ•°æ®è·å–
- [React Hook Form](https://react-hook-form.com/) - é«˜æ€§èƒ½è¡¨å•åº“
- [Zod](https://zod.dev/) - TypeScript-first æ¨¡å¼éªŒè¯
- [bcryptjs](https://github.com/dcodeIO/bcrypt.js) - å¯†ç åŠ å¯†
- [jsonwebtoken](https://github.com/auth0/node-jsonwebtoken) - JWT å®ç°

#### å¼€å‘å·¥å…·
- [TypeScript](https://www.typescriptlang.org/) - JavaScript è¶…é›†
- [ESLint](https://eslint.org/) - ä»£ç æ£€æŸ¥
- [PM2](https://pm2.keymetrics.io/) - è¿›ç¨‹ç®¡ç†å™¨

### ç¤¾åŒº

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®æä¾›å»ºè®®ã€åé¦ˆå’Œæ”¯æŒçš„ç¤¾åŒºæˆå‘˜ï¼

---

## ğŸ“š ç›¸å…³èµ„æº

### å­¦ä¹ èµ„æº

- [Prisma å®˜æ–¹æ–‡æ¡£](https://www.prisma.io/docs/)
- [Next.js æ–‡æ¡£](https://nextjs.org/docs)
- [PostgreSQL æ•™ç¨‹](https://www.postgresqltutorial.com/)
- [TypeScript æ‰‹å†Œ](https://www.typescriptlang.org/docs/)

### å‚è€ƒé¡¹ç›®

- [NextAuth.js](https://next-auth.js.org/) - Next.js è®¤è¯
- [shadcn/ui](https://ui.shadcn.com/) - UI ç»„ä»¶åº“
- [T3 Stack](https://create.t3.gg/) - TypeScript å…¨æ ˆå¼€å‘æ ˆ

---

## ğŸ“Š é¡¹ç›®çŠ¶æ€

### å½“å‰ç‰ˆæœ¬: 1.0.0

### å¼€å‘è·¯çº¿å›¾

- [x] âœ… æ ¸å¿ƒåŠŸèƒ½å®ç°
  - [x] æ•°æ®é›†ç®¡ç†
  - [x] æ¡ˆä¾‹é›†åˆ†äº«
  - [x] æ–¹æ³•æ¨¡å—åº“
  - [x] çŸ¥è¯†å›¾è°±å¯è§†åŒ–
  - [x] RAG æ™ºèƒ½æœç´¢
- [x] âœ… ç®¡ç†åå°
- [x] âœ… ç”¨æˆ·è®¤è¯ä¸æƒé™
- [ ] ğŸš§ ç”¨æˆ·ç³»ç»Ÿï¼ˆéç®¡ç†å‘˜ï¼‰
- [ ] ğŸš§ è¯„è®ºä¸äº’åŠ¨åŠŸèƒ½
- [ ] ğŸ“‹ API æ–‡æ¡£ç«™ç‚¹
- [ ] ğŸ“‹ å¤šè¯­è¨€æ”¯æŒï¼ˆè‹±æ–‡ï¼‰
- [ ] ğŸ“‹ ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–

### å·²çŸ¥é—®é¢˜

è¯·æŸ¥çœ‹ [GitHub Issues](https://github.com/your-org/ucass-datashare/issues) äº†è§£å½“å‰å·²çŸ¥é—®é¢˜å’ŒåŠŸèƒ½è¯·æ±‚ã€‚

---

<div align="center">

**Made with â¤ï¸ by UCASS Team**

[â¬† è¿”å›é¡¶éƒ¨](#ucass-datashare-æ ¡å†…å­¦æœ¯èµ„æºå…±äº«å¹³å°)

</div>
